(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var vt,F,mn,we,Ur,fn,gn,bn,rr,Wt,Gt,xn,Xe={},_n=[],ts=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,wt=Array.isArray;function be(t,e){for(var r in e)t[r]=e[r];return t}function nr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function rs(t,e,r){var a,n,i,l={};for(i in e)i=="key"?a=e[i]:i=="ref"?n=e[i]:l[i]=e[i];if(arguments.length>2&&(l.children=arguments.length>3?vt.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)l[i]===void 0&&(l[i]=t.defaultProps[i]);return ut(t,l,a,n,null)}function ut(t,e,r,a,n){var i={type:t,props:e,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++mn,__i:-1,__u:0};return n==null&&F.vnode!=null&&F.vnode(i),i}function Qe(t){return t.children}function dt(t,e){this.props=t,this.context=e}function Me(t,e){if(e==null)return t.__?Me(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Me(t):null}function yn(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return yn(t)}}function Yt(t){(!t.__d&&(t.__d=!0)&&we.push(t)&&!gt.__r++||Ur!=F.debounceRendering)&&((Ur=F.debounceRendering)||fn)(gt)}function gt(){for(var t,e,r,a,n,i,l,o=1;we.length;)we.length>o&&we.sort(gn),t=we.shift(),o=we.length,t.__d&&(r=void 0,n=(a=(e=t).__v).__e,i=[],l=[],e.__P&&((r=be({},a)).__v=a.__v+1,F.vnode&&F.vnode(r),sr(e.__P,r,a,e.__n,e.__P.namespaceURI,32&a.__u?[n]:null,i,n??Me(a),!!(32&a.__u),l),r.__v=a.__v,r.__.__k[r.__i]=r,wn(i,r,l),r.__e!=n&&yn(r)));gt.__r=0}function kn(t,e,r,a,n,i,l,o,u,h,m){var d,b,p,x,C,L,S=a&&a.__k||_n,g=e.length;for(u=ns(r,e,S,u,g),d=0;d<g;d++)(p=r.__k[d])!=null&&(b=p.__i==-1?Xe:S[p.__i]||Xe,p.__i=d,L=sr(t,p,b,n,i,l,o,u,h,m),x=p.__e,p.ref&&b.ref!=p.ref&&(b.ref&&ar(b.ref,null,p),m.push(p.ref,p.__c||x,p)),C==null&&x!=null&&(C=x),4&p.__u||b.__k===p.__k?u=vn(p,u,t):typeof p.type=="function"&&L!==void 0?u=L:x&&(u=x.nextSibling),p.__u&=-7);return r.__e=C,u}function ns(t,e,r,a,n){var i,l,o,u,h,m=r.length,d=m,b=0;for(t.__k=new Array(n),i=0;i<n;i++)(l=e[i])!=null&&typeof l!="boolean"&&typeof l!="function"?(u=i+b,(l=t.__k[i]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?ut(null,l,null,null,null):wt(l)?ut(Qe,{children:l},null,null,null):l.constructor==null&&l.__b>0?ut(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=t,l.__b=t.__b+1,o=null,(h=l.__i=ss(l,r,u,d))!=-1&&(d--,(o=r[h])&&(o.__u|=2)),o==null||o.__v==null?(h==-1&&(n>m?b--:n<m&&b++),typeof l.type!="function"&&(l.__u|=4)):h!=u&&(h==u-1?b--:h==u+1?b++:(h>u?b--:b++,l.__u|=4))):t.__k[i]=null;if(d)for(i=0;i<m;i++)(o=r[i])!=null&&!(2&o.__u)&&(o.__e==a&&(a=Me(o)),Tn(o,o));return a}function vn(t,e,r){var a,n;if(typeof t.type=="function"){for(a=t.__k,n=0;a&&n<a.length;n++)a[n]&&(a[n].__=t,e=vn(a[n],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=Me(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ss(t,e,r,a){var n,i,l=t.key,o=t.type,u=e[r];if(u===null&&t.key==null||u&&l==u.key&&o==u.type&&!(2&u.__u))return r;if(a>(u!=null&&!(2&u.__u)?1:0))for(n=r-1,i=r+1;n>=0||i<e.length;){if(n>=0){if((u=e[n])&&!(2&u.__u)&&l==u.key&&o==u.type)return n;n--}if(i<e.length){if((u=e[i])&&!(2&u.__u)&&l==u.key&&o==u.type)return i;i++}}return-1}function zr(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||ts.test(e)?r:r+"px"}function it(t,e,r,a,n){var i,l;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof a=="string"&&(t.style.cssText=a=""),a)for(e in a)r&&e in r||zr(t.style,e,"");if(r)for(e in r)a&&r[e]==a[e]||zr(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(bn,"$1")),l=e.toLowerCase(),e=l in t||e=="onFocusOut"||e=="onFocusIn"?l.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?a?r.u=a.u:(r.u=rr,t.addEventListener(e,i?Gt:Wt,i)):t.removeEventListener(e,i?Gt:Wt,i);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Br(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=rr++;else if(e.t<r.u)return;return r(F.event?F.event(e):e)}}}function sr(t,e,r,a,n,i,l,o,u,h){var m,d,b,p,x,C,L,S,g,P,$,j,O,y,E,N,_,R=e.type;if(e.constructor!=null)return null;128&r.__u&&(u=!!(32&r.__u),i=[o=e.__e=r.__e]),(m=F.__b)&&m(e);e:if(typeof R=="function")try{if(S=e.props,g="prototype"in R&&R.prototype.render,P=(m=R.contextType)&&a[m.__c],$=m?P?P.props.value:m.__:a,r.__c?L=(d=e.__c=r.__c).__=d.__E:(g?e.__c=d=new R(S,$):(e.__c=d=new dt(S,$),d.constructor=R,d.render=is),P&&P.sub(d),d.props=S,d.state||(d.state={}),d.context=$,d.__n=a,b=d.__d=!0,d.__h=[],d._sb=[]),g&&d.__s==null&&(d.__s=d.state),g&&R.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=be({},d.__s)),be(d.__s,R.getDerivedStateFromProps(S,d.__s))),p=d.props,x=d.state,d.__v=e,b)g&&R.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),g&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(g&&R.getDerivedStateFromProps==null&&S!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(S,$),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(S,d.__s,$)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(d.props=S,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(B){B&&(B.__=e)}),j=0;j<d._sb.length;j++)d.__h.push(d._sb[j]);d._sb=[],d.__h.length&&l.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(S,d.__s,$),g&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,x,C)})}if(d.context=$,d.props=S,d.__P=t,d.__e=!1,O=F.__r,y=0,g){for(d.state=d.__s,d.__d=!1,O&&O(e),m=d.render(d.props,d.state,d.context),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[]}else do d.__d=!1,O&&O(e),m=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++y<25);d.state=d.__s,d.getChildContext!=null&&(a=be(be({},a),d.getChildContext())),g&&!b&&d.getSnapshotBeforeUpdate!=null&&(C=d.getSnapshotBeforeUpdate(p,x)),N=m,m!=null&&m.type===Qe&&m.key==null&&(N=Nn(m.props.children)),o=kn(t,wt(N)?N:[N],e,r,a,n,i,l,o,u,h),d.base=e.__e,e.__u&=-161,d.__h.length&&l.push(d),L&&(d.__E=d.__=null)}catch(B){if(e.__v=null,u||i!=null)if(B.then){for(e.__u|=u?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;i[i.indexOf(o)]=null,e.__e=o}else for(_=i.length;_--;)nr(i[_]);else e.__e=r.__e,e.__k=r.__k;F.__e(B,e,r)}else i==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):o=e.__e=as(r.__e,e,r,a,n,i,l,u,h);return(m=F.diffed)&&m(e),128&e.__u?void 0:o}function wn(t,e,r){for(var a=0;a<r.length;a++)ar(r[a],r[++a],r[++a]);F.__c&&F.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){F.__e(i,n.__v)}})}function Nn(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:wt(t)?t.map(Nn):be({},t)}function as(t,e,r,a,n,i,l,o,u){var h,m,d,b,p,x,C,L=r.props,S=e.props,g=e.type;if(g=="svg"?n="http://www.w3.org/2000/svg":g=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),i!=null){for(h=0;h<i.length;h++)if((p=i[h])&&"setAttribute"in p==!!g&&(g?p.localName==g:p.nodeType==3)){t=p,i[h]=null;break}}if(t==null){if(g==null)return document.createTextNode(S);t=document.createElementNS(n,g,S.is&&S),o&&(F.__m&&F.__m(e,i),o=!1),i=null}if(g==null)L===S||o&&t.data==S||(t.data=S);else{if(i=i&&vt.call(t.childNodes),L=r.props||Xe,!o&&i!=null)for(L={},h=0;h<t.attributes.length;h++)L[(p=t.attributes[h]).name]=p.value;for(h in L)if(p=L[h],h!="children"){if(h=="dangerouslySetInnerHTML")d=p;else if(!(h in S)){if(h=="value"&&"defaultValue"in S||h=="checked"&&"defaultChecked"in S)continue;it(t,h,null,p,n)}}for(h in S)p=S[h],h=="children"?b=p:h=="dangerouslySetInnerHTML"?m=p:h=="value"?x=p:h=="checked"?C=p:o&&typeof p!="function"||L[h]===p||it(t,h,p,L[h],n);if(m)o||d&&(m.__html==d.__html||m.__html==t.innerHTML)||(t.innerHTML=m.__html),e.__k=[];else if(d&&(t.innerHTML=""),kn(e.type=="template"?t.content:t,wt(b)?b:[b],e,r,a,g=="foreignObject"?"http://www.w3.org/1999/xhtml":n,i,l,i?i[0]:r.__k&&Me(r,0),o,u),i!=null)for(h=i.length;h--;)nr(i[h]);o||(h="value",g=="progress"&&x==null?t.removeAttribute("value"):x!=null&&(x!==t[h]||g=="progress"&&!x||g=="option"&&x!=L[h])&&it(t,h,x,L[h],n),h="checked",C!=null&&C!=t[h]&&it(t,h,C,L[h],n))}return t}function ar(t,e,r){try{if(typeof t=="function"){var a=typeof t.__u=="function";a&&t.__u(),a&&e==null||(t.__u=t(e))}else t.current=e}catch(n){F.__e(n,r)}}function Tn(t,e,r){var a,n;if(F.unmount&&F.unmount(t),(a=t.ref)&&(a.current&&a.current!=t.__e||ar(a,null,e)),(a=t.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(i){F.__e(i,e)}a.base=a.__P=null}if(a=t.__k)for(n=0;n<a.length;n++)a[n]&&Tn(a[n],e,r||typeof t.type!="function");r||nr(t.__e),t.__c=t.__=t.__e=void 0}function is(t,e,r){return this.constructor(t,r)}function ls(t,e,r){var a,n,i,l;e==document&&(e=document.documentElement),F.__&&F.__(t,e),n=(a=!1)?null:e.__k,i=[],l=[],sr(e,t=e.__k=rs(Qe,null,[t]),n||Xe,Xe,e.namespaceURI,n?null:e.firstChild?vt.call(e.childNodes):null,i,n?n.__e:e.firstChild,a,l),wn(i,t,l)}function os(t){function e(r){var a,n;return this.getChildContext||(a=new Set,(n={})[e.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){a=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&a.forEach(function(l){l.__e=!0,Yt(l)})},this.sub=function(i){a.add(i);var l=i.componentWillUnmount;i.componentWillUnmount=function(){a&&a.delete(i),l&&l.call(i)}}),r.children}return e.__c="__cC"+xn++,e.__=t,e.Provider=e.__l=(e.Consumer=function(r,a){return r.children(a)}).contextType=e,e}vt=_n.slice,F={__e:function(t,e,r,a){for(var n,i,l;e=e.__;)if((n=e.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(t)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,a||{}),l=n.__d),l)return n.__E=n}catch(o){t=o}throw t}},mn=0,dt.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=be({},this.state),typeof t=="function"&&(t=t(be({},r),this.props)),t&&be(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Yt(this))},dt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Yt(this))},dt.prototype.render=Qe,we=[],fn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,gn=function(t,e){return t.__v.__b-e.__v.__b},gt.__r=0,bn=/(PointerCapture)$|Capture$/i,rr=0,Wt=Br(!1),Gt=Br(!0),xn=0;var cs=0;function s(t,e,r,a,n,i){e||(e={});var l,o,u=e;if("ref"in u)for(o in u={},e)o=="ref"?l=e[o]:u[o]=e[o];var h={type:t,props:u,key:r,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--cs,__i:-1,__u:0,__source:n,__self:i};if(typeof t=="function"&&(l=t.defaultProps))for(o in l)u[o]===void 0&&(u[o]=l[o]);return F.vnode&&F.vnode(h),h}var Ve,Y,zt,jr,Zt=0,Sn=[],V=F,Fr=V.__b,Hr=V.__r,qr=V.diffed,Wr=V.__c,Gr=V.unmount,Yr=V.__;function ir(t,e){V.__h&&V.__h(Y,t,Zt||e),Zt=0;var r=Y.__H||(Y.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function A(t){return Zt=1,us(En,t)}function us(t,e,r){var a=ir(Ve++,2);if(a.t=t,!a.__c&&(a.__=[En(void 0,e),function(o){var u=a.__N?a.__N[0]:a.__[0],h=a.t(u,o);u!==h&&(a.__N=[h,a.__[1]],a.__c.setState({}))}],a.__c=Y,!Y.__f)){var n=function(o,u,h){if(!a.__c.__H)return!0;var m=a.__c.__H.__.filter(function(b){return!!b.__c});if(m.every(function(b){return!b.__N}))return!i||i.call(this,o,u,h);var d=a.__c.props!==o;return m.forEach(function(b){if(b.__N){var p=b.__[0];b.__=b.__N,b.__N=void 0,p!==b.__[0]&&(d=!0)}}),i&&i.call(this,o,u,h)||d};Y.__f=!0;var i=Y.shouldComponentUpdate,l=Y.componentWillUpdate;Y.componentWillUpdate=function(o,u,h){if(this.__e){var m=i;i=void 0,n(o,u,h),i=m}l&&l.call(this,o,u,h)},Y.shouldComponentUpdate=n}return a.__N||a.__}function he(t,e){var r=ir(Ve++,3);!V.__s&&ms(r.__H,e)&&(r.__=t,r.u=e,Y.__H.__h.push(r))}function ds(t){var e=Y.context[t.__c],r=ir(Ve++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Y)),e.props.value):t.__}function hs(){for(var t;t=Sn.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ht),t.__H.__h.forEach(Xt),t.__H.__h=[]}catch(e){t.__H.__h=[],V.__e(e,t.__v)}}V.__b=function(t){Y=null,Fr&&Fr(t)},V.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Yr&&Yr(t,e)},V.__r=function(t){Hr&&Hr(t),Ve=0;var e=(Y=t.__c).__H;e&&(zt===Y?(e.__h=[],Y.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(ht),e.__h.forEach(Xt),e.__h=[],Ve=0)),zt=Y},V.diffed=function(t){qr&&qr(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Sn.push(e)!==1&&jr===V.requestAnimationFrame||((jr=V.requestAnimationFrame)||ps)(hs)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),zt=Y=null},V.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ht),r.__h=r.__h.filter(function(a){return!a.__||Xt(a)})}catch(a){e.some(function(n){n.__h&&(n.__h=[])}),e=[],V.__e(a,r.__v)}}),Wr&&Wr(t,e)},V.unmount=function(t){Gr&&Gr(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(a){try{ht(a)}catch(n){e=n}}),r.__H=void 0,e&&V.__e(e,r.__v))};var Zr=typeof requestAnimationFrame=="function";function ps(t){var e,r=function(){clearTimeout(a),Zr&&cancelAnimationFrame(e),setTimeout(t)},a=setTimeout(r,35);Zr&&(e=requestAnimationFrame(r))}function ht(t){var e=Y,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Y=e}function Xt(t){var e=Y;t.__c=t.__(),Y=e}function ms(t,e){return!t||t.length!==e.length||e.some(function(r,a){return r!==t[a]})}function En(t,e){return typeof e=="function"?e(t):e}const Rn=os(void 0);function Nt(){const t=ds(Rn);if(!t)throw new Error("useTheme must be used within a ThemeContext.Provider");return t}function lr(t){return{bg50:t==="indigo"?"bg-indigo-50":"bg-teal-50",bg100:t==="indigo"?"bg-indigo-100":"bg-teal-100",bg600:t==="indigo"?"bg-indigo-600":"bg-teal-500",bg700:t==="indigo"?"bg-indigo-700":"bg-teal-600",border600:t==="indigo"?"border-indigo-600":"border-teal-500",border400:t==="indigo"?"border-indigo-400":"border-teal-400",text600:t==="indigo"?"text-indigo-600":"text-teal-500",text700:t==="indigo"?"text-indigo-700":"text-teal-600",ring500:t==="indigo"?"ring-indigo-500":"ring-teal-400",focusRing:t==="indigo"?"focus:ring-indigo-500":"focus:ring-teal-400"}}const fs={indigo:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",teal:"bg-teal-500 text-white hover:bg-teal-600 focus:ring-teal-400"};function z({variant:t="primary",size:e="md",loading:r=!1,disabled:a,className:n="",children:i,color:l,...o}){let u="indigo";try{u=l||Nt().color}catch{u=l||"indigo"}const h="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:fs[u],secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",error:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500 border border-gray-300"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return s("button",{className:`${h} ${m[t]} ${d[e]} ${n}`,disabled:a||r,...o,children:[r&&s("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})}function An({isOpen:t,onClose:e,title:r,children:a,size:n="md"}){return t?s("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[s("div",{className:`relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"}[n]}`,style:{zIndex:50},children:s("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:[s("div",{className:"flex items-center justify-between mb-4",children:[s("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:r}),s("button",{onClick:e,className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:[s("span",{className:"sr-only",children:"Close"}),s("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),a]})}),s("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",style:{zIndex:40},onClick:e})]})}):null}const gs="";class bs{async request(e,r={}){try{const a=await fetch(`${gs}${e}`,{headers:{"Content-Type":"application/json",...r.headers},...r}),n=await a.json();return a.ok?{success:!0,data:n}:{success:!1,error:n.message||`HTTP ${a.status}: ${a.statusText}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}}async listRouters(){const e=await this.request("/router/list");return e.success&&e.data?{success:!0,data:e.data.routers}:{success:!1,error:e.error||"Failed to fetch routers"}}async createRouter(e){return this.request("/router/create",{method:"POST",body:JSON.stringify(e)})}async routerExists(e){return this.request(`/router/exists?name=${encodeURIComponent(e)}`)}async publishRouter(e){return this.request("/router/publish",{method:"POST",body:JSON.stringify(e)})}async unpublishRouter(e){return this.request("/router/unpublish",{method:"POST",body:JSON.stringify({router_name:e})})}async getRouterDetails(e,r,a){const n=new URLSearchParams({router_name:e,author:r,published:String(a)});return this.request(`/router/details?${n.toString()}`)}async getRouterStatus(e){const r=new URLSearchParams({router_name:e});return this.request(`/router/status?${r.toString()}`)}async deleteRouter(e,r){return this.request("/router/delete",{method:"POST",body:JSON.stringify({router_name:e,published:r})})}async getUsername(){return this.request("/username")}async getSyftBoxUrl(){return this.request("/sburl")}}const le=new bs;async function xs(t){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(t),!0;{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();const r=document.execCommand("copy");return document.body.removeChild(e),r}}catch(e){return console.error("Failed to copy to clipboard:",e),!1}}var pt=(t=>(t.DEFAULT="default",t.CUSTOM="custom",t))(pt||{}),bt=(t=>(t.CHAT="chat",t.SEARCH="search",t))(bt||{}),xt=(t=>(t.PER_REQUEST="per_request",t))(xt||{});function _s({isOpen:t,onClose:e,onSuccess:r}){const[a,n]=A(1),[i,l]=A({name:"",router_type:pt.DEFAULT,services:[]}),[o,u]=A(!1),[h,m]=A(null),[d,b]=A(null),{color:p}=Nt(),x=lr(p),C=()=>a===1&&!i.name.trim()?(m("Project name is required"),!1):a===3&&i.services.length===0?(m("Please select at least one service type"),!1):(m(null),!0),L=async E=>{if(E&&E.preventDefault(),!!C())if(a===3){u(!0);try{const N=await le.createRouter(i);N.success&&N.data?(b({routerName:N.data.router_name,outputDir:N.data.output_dir}),n(4)):m(N.error||"Failed to create router")}catch{m("An unexpected error occurred")}finally{u(!1)}}else n(N=>N+1)},S=()=>{a>1&&n(E=>E-1)},g=E=>{l(N=>({...N,services:N.services.includes(E)?N.services.filter(_=>_!==E):[...N.services,E]}))},P=()=>{l({name:"",router_type:pt.DEFAULT,services:[]}),m(null),b(null),n(1),e()},$=()=>{P(),r()},j=["Project Name","Router Type","Router Services","Success"],O=()=>s("div",{className:"flex flex-col items-center mb-8",children:s("div",{className:"flex items-center w-full max-w-lg",children:j.map((E,N)=>{const _=a===N+1,R=a>N+1;return s("div",{className:"flex-1 flex flex-col items-center",children:[s("div",{className:"relative flex items-center justify-center",children:[s("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 transition-colors duration-200
                    ${R?`${x.bg600} ${x.border600} text-white`:_?`bg-white ${x.border600} ${x.text600}`:"bg-gray-200 border-gray-300 text-gray-400"}`,children:R?s("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):s("span",{className:"font-bold",children:N+1})}),N<j.length-1&&s("div",{className:`absolute left-full top-1/2 transform -translate-y-1/2 w-12 h-1 ${a>N+1?x.bg600:"bg-gray-300"}`})]}),s("span",{className:`mt-2 text-xs font-medium ${_?x.text700:R?x.text600:"text-gray-400"}`,children:E})]},E)})})});let y=s("div",{});return a===1?y=s("form",{onSubmit:L,className:"space-y-6",children:[O(),h&&s("div",{className:"bg-error-50 border border-error-200 rounded-md p-4 text-error-700 text-sm",children:h}),s("div",{children:[s("label",{htmlFor:"project-name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name *"}),s("input",{type:"text",id:"project-name",value:i.name,onInput:E=>l(N=>({...N,name:E.target.value})),className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none ${x.focusRing} focus:border-${p}-500`,placeholder:"Enter project name",required:!0,autoFocus:!0})]}),s("div",{className:"flex justify-between pt-4",children:[s("span",{}),s(z,{type:"submit",variant:"primary",children:"Next"})]})]}):a===2?y=s("form",{onSubmit:L,className:"space-y-6",children:[O(),h&&s("div",{className:"bg-error-50 border border-error-200 rounded-md p-4 text-error-700 text-sm",children:h}),s("div",{children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Router Type *"}),s("div",{className:"space-y-2",children:Object.values(pt).map(E=>s("label",{className:"flex items-center",children:[s("input",{type:"radio",name:"router-type",value:E,checked:i.router_type===E,onChange:()=>l(N=>({...N,router_type:E})),className:`h-4 w-4 ${x.text600} ${x.focusRing} border-gray-300`}),s("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:E})]},E))})]}),s("div",{className:"flex justify-between pt-4",children:[s(z,{type:"button",variant:"ghost",onClick:S,children:"Back"}),s(z,{type:"submit",variant:"primary",children:"Next"})]})]}):a===3?y=s("form",{onSubmit:L,className:"space-y-6",children:[O(),h&&s("div",{className:"bg-error-50 border border-error-200 rounded-md p-4 text-error-700 text-sm",children:h}),s("div",{children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Router Services * (Select at least one)"}),s("div",{className:"space-y-2",children:Object.values(bt).map(E=>s("label",{className:"flex items-center",children:[s("input",{type:"checkbox",checked:i.services.includes(E),onChange:()=>g(E),className:`h-4 w-4 ${x.text600} ${x.focusRing} border-gray-300 rounded`}),s("span",{className:"ml-2 text-sm text-gray-700 uppercase",children:E})]},E))})]}),s("div",{className:"flex justify-between pt-4",children:[s(z,{type:"button",variant:"ghost",onClick:S,disabled:o,children:"Back"}),s(z,{type:"submit",variant:"primary",loading:o,disabled:o,children:"Create Router"})]})]}):a===4&&d&&(y=s("div",{className:"text-center",children:[O(),s("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-success-100 mb-4",children:s("svg",{className:"h-6 w-6 text-success-600 animate-checkmark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:['Router "',d.routerName,'" Created!']}),s("p",{className:"text-sm text-gray-500 mb-4",children:"Your router has been successfully created and is ready for use."}),s("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Project Directory:"}),s("div",{className:"flex items-center justify-between bg-white rounded border p-2 mb-2",children:[s("code",{className:"text-sm text-gray-600 flex-1 mr-2 truncate",children:d.outputDir}),s(z,{variant:"ghost",size:"sm",onClick:()=>xs(d.outputDir),"data-copy-button":!0,className:"flex-shrink-0",children:"Copy"})]})]}),s("div",{className:"flex justify-center space-x-3",children:s(z,{variant:"primary",onClick:$,children:"Go to Routers"})})]})),s(An,{isOpen:t,onClose:P,title:"Create New Router",size:"lg",children:y})}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Cn,setPrototypeOf:Xr,isFrozen:ys,getPrototypeOf:ks,getOwnPropertyDescriptor:vs}=Object;let{freeze:ne,seal:oe,create:Ln}=Object,{apply:Vt,construct:Qt}=typeof Reflect<"u"&&Reflect;ne||(ne=function(e){return e});oe||(oe=function(e){return e});Vt||(Vt=function(e,r,a){return e.apply(r,a)});Qt||(Qt=function(e,r){return new e(...r)});const lt=se(Array.prototype.forEach),ws=se(Array.prototype.lastIndexOf),Vr=se(Array.prototype.pop),je=se(Array.prototype.push),Ns=se(Array.prototype.splice),mt=se(String.prototype.toLowerCase),Bt=se(String.prototype.toString),Qr=se(String.prototype.match),Fe=se(String.prototype.replace),Ts=se(String.prototype.indexOf),Ss=se(String.prototype.trim),ce=se(Object.prototype.hasOwnProperty),te=se(RegExp.prototype.test),He=Es(TypeError);function se(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return Vt(t,e,a)}}function Es(t){return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return Qt(t,r)}}function I(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mt;Xr&&Xr(t,null);let a=e.length;for(;a--;){let n=e[a];if(typeof n=="string"){const i=r(n);i!==n&&(ys(e)||(e[a]=i),n=i)}t[n]=!0}return t}function Rs(t){for(let e=0;e<t.length;e++)ce(t,e)||(t[e]=null);return t}function ge(t){const e=Ln(null);for(const[r,a]of Cn(t))ce(t,r)&&(Array.isArray(a)?e[r]=Rs(a):a&&typeof a=="object"&&a.constructor===Object?e[r]=ge(a):e[r]=a);return e}function qe(t,e){for(;t!==null;){const a=vs(t,e);if(a){if(a.get)return se(a.get);if(typeof a.value=="function")return se(a.value)}t=ks(t)}function r(){return null}return r}const Kr=ne(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),jt=ne(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ft=ne(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),As=ne(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ht=ne(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Cs=ne(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jr=ne(["#text"]),en=ne(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qt=ne(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tn=ne(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ot=ne(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ls=oe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$s=oe(/<%[\w\W]*|[\w\W]*%>/gm),Ps=oe(/\$\{[\w\W]*/gm),Is=oe(/^data-[\-\w.\u00B7-\uFFFF]+$/),Os=oe(/^aria-[\-\w]+$/),$n=oe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ms=oe(/^(?:\w+script|data):/i),Ds=oe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Pn=oe(/^html$/i),Us=oe(/^[a-z][.\w]*(-[.\w]+)+$/i);var rn=Object.freeze({__proto__:null,ARIA_ATTR:Os,ATTR_WHITESPACE:Ds,CUSTOM_ELEMENT:Us,DATA_ATTR:Is,DOCTYPE_NAME:Pn,ERB_EXPR:$s,IS_ALLOWED_URI:$n,IS_SCRIPT_OR_DATA:Ms,MUSTACHE_EXPR:Ls,TMPLIT_EXPR:Ps});const We={element:1,text:3,progressingInstruction:7,comment:8,document:9},zs=function(){return typeof window>"u"?null:window},Bs=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let a=null;const n="data-tt-policy-suffix";r&&r.hasAttribute(n)&&(a=r.getAttribute(n));const i="dompurify"+(a?"#"+a:"");try{return e.createPolicy(i,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},nn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function In(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zs();const e=w=>In(w);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==We.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const a=r,n=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:l,Node:o,Element:u,NodeFilter:h,NamedNodeMap:m=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:b,trustedTypes:p}=t,x=u.prototype,C=qe(x,"cloneNode"),L=qe(x,"remove"),S=qe(x,"nextSibling"),g=qe(x,"childNodes"),P=qe(x,"parentNode");if(typeof l=="function"){const w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}let $,j="";const{implementation:O,createNodeIterator:y,createDocumentFragment:E,getElementsByTagName:N}=r,{importNode:_}=a;let R=nn();e.isSupported=typeof Cn=="function"&&typeof P=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:W,TMPLIT_EXPR:G,DATA_ATTR:Z,ARIA_ATTR:ie,IS_SCRIPT_OR_DATA:ye,ATTR_WHITESPACE:ke,CUSTOM_ELEMENT:Et}=rn;let{IS_ALLOWED_URI:k}=rn,T=null;const H=I({},[...Kr,...jt,...Ft,...Ht,...Jr]);let D=null;const Se=I({},[...en,...qt,...tn,...ot]);let X=Object.seal(Ln(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),De=null,Rt=null,br=!0,At=!0,xr=!1,_r=!0,Ee=!1,Je=!0,ve=!1,Ct=!1,Lt=!1,Re=!1,et=!1,tt=!1,yr=!0,kr=!1;const Yn="user-content-";let $t=!0,Ue=!1,Ae={},Ce=null;const vr=I({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wr=null;const Nr=I({},["audio","video","img","source","image","track"]);let Pt=null;const Tr=I({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let Le=pe,It=!1,Ot=null;const Zn=I({},[rt,nt,pe],Bt);let st=I({},["mi","mo","mn","ms","mtext"]),at=I({},["annotation-xml"]);const Xn=I({},["title","style","font","a","script"]);let ze=null;const Vn=["application/xhtml+xml","text/html"],Qn="text/html";let K=null,$e=null;const Kn=r.createElement("form"),Sr=function(c){return c instanceof RegExp||c instanceof Function},Mt=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($e&&$e===c)){if((!c||typeof c!="object")&&(c={}),c=ge(c),ze=Vn.indexOf(c.PARSER_MEDIA_TYPE)===-1?Qn:c.PARSER_MEDIA_TYPE,K=ze==="application/xhtml+xml"?Bt:mt,T=ce(c,"ALLOWED_TAGS")?I({},c.ALLOWED_TAGS,K):H,D=ce(c,"ALLOWED_ATTR")?I({},c.ALLOWED_ATTR,K):Se,Ot=ce(c,"ALLOWED_NAMESPACES")?I({},c.ALLOWED_NAMESPACES,Bt):Zn,Pt=ce(c,"ADD_URI_SAFE_ATTR")?I(ge(Tr),c.ADD_URI_SAFE_ATTR,K):Tr,wr=ce(c,"ADD_DATA_URI_TAGS")?I(ge(Nr),c.ADD_DATA_URI_TAGS,K):Nr,Ce=ce(c,"FORBID_CONTENTS")?I({},c.FORBID_CONTENTS,K):vr,De=ce(c,"FORBID_TAGS")?I({},c.FORBID_TAGS,K):ge({}),Rt=ce(c,"FORBID_ATTR")?I({},c.FORBID_ATTR,K):ge({}),Ae=ce(c,"USE_PROFILES")?c.USE_PROFILES:!1,br=c.ALLOW_ARIA_ATTR!==!1,At=c.ALLOW_DATA_ATTR!==!1,xr=c.ALLOW_UNKNOWN_PROTOCOLS||!1,_r=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ee=c.SAFE_FOR_TEMPLATES||!1,Je=c.SAFE_FOR_XML!==!1,ve=c.WHOLE_DOCUMENT||!1,Re=c.RETURN_DOM||!1,et=c.RETURN_DOM_FRAGMENT||!1,tt=c.RETURN_TRUSTED_TYPE||!1,Lt=c.FORCE_BODY||!1,yr=c.SANITIZE_DOM!==!1,kr=c.SANITIZE_NAMED_PROPS||!1,$t=c.KEEP_CONTENT!==!1,Ue=c.IN_PLACE||!1,k=c.ALLOWED_URI_REGEXP||$n,Le=c.NAMESPACE||pe,st=c.MATHML_TEXT_INTEGRATION_POINTS||st,at=c.HTML_INTEGRATION_POINTS||at,X=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&Sr(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&Sr(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ee&&(At=!1),et&&(Re=!0),Ae&&(T=I({},Jr),D=[],Ae.html===!0&&(I(T,Kr),I(D,en)),Ae.svg===!0&&(I(T,jt),I(D,qt),I(D,ot)),Ae.svgFilters===!0&&(I(T,Ft),I(D,qt),I(D,ot)),Ae.mathMl===!0&&(I(T,Ht),I(D,tn),I(D,ot))),c.ADD_TAGS&&(T===H&&(T=ge(T)),I(T,c.ADD_TAGS,K)),c.ADD_ATTR&&(D===Se&&(D=ge(D)),I(D,c.ADD_ATTR,K)),c.ADD_URI_SAFE_ATTR&&I(Pt,c.ADD_URI_SAFE_ATTR,K),c.FORBID_CONTENTS&&(Ce===vr&&(Ce=ge(Ce)),I(Ce,c.FORBID_CONTENTS,K)),$t&&(T["#text"]=!0),ve&&I(T,["html","head","body"]),T.table&&(I(T,["tbody"]),delete De.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw He('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw He('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$=c.TRUSTED_TYPES_POLICY,j=$.createHTML("")}else $===void 0&&($=Bs(p,n)),$!==null&&typeof j=="string"&&(j=$.createHTML(""));ne&&ne(c),$e=c}},Er=I({},[...jt,...Ft,...As]),Rr=I({},[...Ht,...Cs]),Jn=function(c){let f=P(c);(!f||!f.tagName)&&(f={namespaceURI:Le,tagName:"template"});const v=mt(c.tagName),q=mt(f.tagName);return Ot[c.namespaceURI]?c.namespaceURI===nt?f.namespaceURI===pe?v==="svg":f.namespaceURI===rt?v==="svg"&&(q==="annotation-xml"||st[q]):!!Er[v]:c.namespaceURI===rt?f.namespaceURI===pe?v==="math":f.namespaceURI===nt?v==="math"&&at[q]:!!Rr[v]:c.namespaceURI===pe?f.namespaceURI===nt&&!at[q]||f.namespaceURI===rt&&!st[q]?!1:!Rr[v]&&(Xn[v]||!Er[v]):!!(ze==="application/xhtml+xml"&&Ot[c.namespaceURI]):!1},ue=function(c){je(e.removed,{element:c});try{P(c).removeChild(c)}catch{L(c)}},Pe=function(c,f){try{je(e.removed,{attribute:f.getAttributeNode(c),from:f})}catch{je(e.removed,{attribute:null,from:f})}if(f.removeAttribute(c),c==="is")if(Re||et)try{ue(f)}catch{}else try{f.setAttribute(c,"")}catch{}},Ar=function(c){let f=null,v=null;if(Lt)c="<remove></remove>"+c;else{const Q=Qr(c,/^[\r\n\t ]+/);v=Q&&Q[0]}ze==="application/xhtml+xml"&&Le===pe&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");const q=$?$.createHTML(c):c;if(Le===pe)try{f=new b().parseFromString(q,ze)}catch{}if(!f||!f.documentElement){f=O.createDocument(Le,"template",null);try{f.documentElement.innerHTML=It?j:q}catch{}}const J=f.body||f.documentElement;return c&&v&&J.insertBefore(r.createTextNode(v),J.childNodes[0]||null),Le===pe?N.call(f,ve?"html":"body")[0]:ve?f.documentElement:J},Cr=function(c){return y.call(c.ownerDocument||c,c,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Dt=function(c){return c instanceof d&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof m)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},Lr=function(c){return typeof o=="function"&&c instanceof o};function me(w,c,f){lt(w,v=>{v.call(e,c,f,$e)})}const $r=function(c){let f=null;if(me(R.beforeSanitizeElements,c,null),Dt(c))return ue(c),!0;const v=K(c.nodeName);if(me(R.uponSanitizeElement,c,{tagName:v,allowedTags:T}),Je&&c.hasChildNodes()&&!Lr(c.firstElementChild)&&te(/<[/\w!]/g,c.innerHTML)&&te(/<[/\w!]/g,c.textContent)||c.nodeType===We.progressingInstruction||Je&&c.nodeType===We.comment&&te(/<[/\w]/g,c.data))return ue(c),!0;if(!T[v]||De[v]){if(!De[v]&&Ir(v)&&(X.tagNameCheck instanceof RegExp&&te(X.tagNameCheck,v)||X.tagNameCheck instanceof Function&&X.tagNameCheck(v)))return!1;if($t&&!Ce[v]){const q=P(c)||c.parentNode,J=g(c)||c.childNodes;if(J&&q){const Q=J.length;for(let ae=Q-1;ae>=0;--ae){const fe=C(J[ae],!0);fe.__removalCount=(c.__removalCount||0)+1,q.insertBefore(fe,S(c))}}}return ue(c),!0}return c instanceof u&&!Jn(c)||(v==="noscript"||v==="noembed"||v==="noframes")&&te(/<\/no(script|embed|frames)/i,c.innerHTML)?(ue(c),!0):(Ee&&c.nodeType===We.text&&(f=c.textContent,lt([B,W,G],q=>{f=Fe(f,q," ")}),c.textContent!==f&&(je(e.removed,{element:c.cloneNode()}),c.textContent=f)),me(R.afterSanitizeElements,c,null),!1)},Pr=function(c,f,v){if(yr&&(f==="id"||f==="name")&&(v in r||v in Kn))return!1;if(!(At&&!Rt[f]&&te(Z,f))){if(!(br&&te(ie,f))){if(!D[f]||Rt[f]){if(!(Ir(c)&&(X.tagNameCheck instanceof RegExp&&te(X.tagNameCheck,c)||X.tagNameCheck instanceof Function&&X.tagNameCheck(c))&&(X.attributeNameCheck instanceof RegExp&&te(X.attributeNameCheck,f)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(f))||f==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&te(X.tagNameCheck,v)||X.tagNameCheck instanceof Function&&X.tagNameCheck(v))))return!1}else if(!Pt[f]){if(!te(k,Fe(v,ke,""))){if(!((f==="src"||f==="xlink:href"||f==="href")&&c!=="script"&&Ts(v,"data:")===0&&wr[c])){if(!(xr&&!te(ye,Fe(v,ke,"")))){if(v)return!1}}}}}}return!0},Ir=function(c){return c!=="annotation-xml"&&Qr(c,Et)},Or=function(c){me(R.beforeSanitizeAttributes,c,null);const{attributes:f}=c;if(!f||Dt(c))return;const v={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D,forceKeepAttr:void 0};let q=f.length;for(;q--;){const J=f[q],{name:Q,namespaceURI:ae,value:fe}=J,Be=K(Q),Ut=fe;let ee=Q==="value"?Ut:Ss(Ut);if(v.attrName=Be,v.attrValue=ee,v.keepAttr=!0,v.forceKeepAttr=void 0,me(R.uponSanitizeAttribute,c,v),ee=v.attrValue,kr&&(Be==="id"||Be==="name")&&(Pe(Q,c),ee=Yn+ee),Je&&te(/((--!?|])>)|<\/(style|title)/i,ee)){Pe(Q,c);continue}if(v.forceKeepAttr)continue;if(!v.keepAttr){Pe(Q,c);continue}if(!_r&&te(/\/>/i,ee)){Pe(Q,c);continue}Ee&&lt([B,W,G],Dr=>{ee=Fe(ee,Dr," ")});const Mr=K(c.nodeName);if(!Pr(Mr,Be,ee)){Pe(Q,c);continue}if($&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!ae)switch(p.getAttributeType(Mr,Be)){case"TrustedHTML":{ee=$.createHTML(ee);break}case"TrustedScriptURL":{ee=$.createScriptURL(ee);break}}if(ee!==Ut)try{ae?c.setAttributeNS(ae,Q,ee):c.setAttribute(Q,ee),Dt(c)?ue(c):Vr(e.removed)}catch{Pe(Q,c)}}me(R.afterSanitizeAttributes,c,null)},es=function w(c){let f=null;const v=Cr(c);for(me(R.beforeSanitizeShadowDOM,c,null);f=v.nextNode();)me(R.uponSanitizeShadowNode,f,null),$r(f),Or(f),f.content instanceof i&&w(f.content);me(R.afterSanitizeShadowDOM,c,null)};return e.sanitize=function(w){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=null,v=null,q=null,J=null;if(It=!w,It&&(w="<!-->"),typeof w!="string"&&!Lr(w))if(typeof w.toString=="function"){if(w=w.toString(),typeof w!="string")throw He("dirty is not a string, aborting")}else throw He("toString is not a function");if(!e.isSupported)return w;if(Ct||Mt(c),e.removed=[],typeof w=="string"&&(Ue=!1),Ue){if(w.nodeName){const fe=K(w.nodeName);if(!T[fe]||De[fe])throw He("root node is forbidden and cannot be sanitized in-place")}}else if(w instanceof o)f=Ar("<!---->"),v=f.ownerDocument.importNode(w,!0),v.nodeType===We.element&&v.nodeName==="BODY"||v.nodeName==="HTML"?f=v:f.appendChild(v);else{if(!Re&&!Ee&&!ve&&w.indexOf("<")===-1)return $&&tt?$.createHTML(w):w;if(f=Ar(w),!f)return Re?null:tt?j:""}f&&Lt&&ue(f.firstChild);const Q=Cr(Ue?w:f);for(;q=Q.nextNode();)$r(q),Or(q),q.content instanceof i&&es(q.content);if(Ue)return w;if(Re){if(et)for(J=E.call(f.ownerDocument);f.firstChild;)J.appendChild(f.firstChild);else J=f;return(D.shadowroot||D.shadowrootmode)&&(J=_.call(a,J,!0)),J}let ae=ve?f.outerHTML:f.innerHTML;return ve&&T["!doctype"]&&f.ownerDocument&&f.ownerDocument.doctype&&f.ownerDocument.doctype.name&&te(Pn,f.ownerDocument.doctype.name)&&(ae="<!DOCTYPE "+f.ownerDocument.doctype.name+`>
`+ae),Ee&&lt([B,W,G],fe=>{ae=Fe(ae,fe," ")}),$&&tt?$.createHTML(ae):ae},e.setConfig=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mt(w),Ct=!0},e.clearConfig=function(){$e=null,Ct=!1},e.isValidAttribute=function(w,c,f){$e||Mt({});const v=K(w),q=K(c);return Pr(v,q,f)},e.addHook=function(w,c){typeof c=="function"&&je(R[w],c)},e.removeHook=function(w,c){if(c!==void 0){const f=ws(R[w],c);return f===-1?void 0:Ns(R[w],f,1)[0]}return Vr(R[w])},e.removeHooks=function(w){R[w]=[]},e.removeAllHooks=function(){R=nn()},e}var Kt=In();function or(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Te=or();function On(t){Te=t}var Ze={exec:()=>null};function U(t,e=""){let r=typeof t=="string"?t:t.source,a={replace:(n,i)=>{let l=typeof i=="string"?i:i.source;return l=l.replace(re.caret,"$1"),r=r.replace(n,l),a},getRegex:()=>new RegExp(r,e)};return a}var re={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},js=/^(?:[ \t]*(?:\n|$))+/,Fs=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Hs=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ke=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qs=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,cr=/(?:[*+-]|\d{1,9}[.)])/,Mn=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Dn=U(Mn).replace(/bull/g,cr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ws=U(Mn).replace(/bull/g,cr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ur=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Gs=/^[^\n]+/,dr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ys=U(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",dr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Zs=U(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,cr).getRegex(),Tt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",hr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Xs=U("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",hr).replace("tag",Tt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Un=U(ur).replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tt).getRegex(),Vs=U(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Un).getRegex(),pr={blockquote:Vs,code:Fs,def:Ys,fences:Hs,heading:qs,hr:Ke,html:Xs,lheading:Dn,list:Zs,newline:js,paragraph:Un,table:Ze,text:Gs},sn=U("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tt).getRegex(),Qs={...pr,lheading:Ws,table:sn,paragraph:U(ur).replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",sn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tt).getRegex()},Ks={...pr,html:U(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",hr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ze,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:U(ur).replace("hr",Ke).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Dn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Js=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ea=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,zn=/^( {2,}|\\)\n(?!\s*$)/,ta=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,St=/[\p{P}\p{S}]/u,mr=/[\s\p{P}\p{S}]/u,Bn=/[^\s\p{P}\p{S}]/u,ra=U(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,mr).getRegex(),jn=/(?!~)[\p{P}\p{S}]/u,na=/(?!~)[\s\p{P}\p{S}]/u,sa=/(?:[^\s\p{P}\p{S}]|~)/u,aa=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Fn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ia=U(Fn,"u").replace(/punct/g,St).getRegex(),la=U(Fn,"u").replace(/punct/g,jn).getRegex(),Hn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",oa=U(Hn,"gu").replace(/notPunctSpace/g,Bn).replace(/punctSpace/g,mr).replace(/punct/g,St).getRegex(),ca=U(Hn,"gu").replace(/notPunctSpace/g,sa).replace(/punctSpace/g,na).replace(/punct/g,jn).getRegex(),ua=U("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Bn).replace(/punctSpace/g,mr).replace(/punct/g,St).getRegex(),da=U(/\\(punct)/,"gu").replace(/punct/g,St).getRegex(),ha=U(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),pa=U(hr).replace("(?:-->|$)","-->").getRegex(),ma=U("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",pa).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_t=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,fa=U(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",_t).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),qn=U(/^!?\[(label)\]\[(ref)\]/).replace("label",_t).replace("ref",dr).getRegex(),Wn=U(/^!?\[(ref)\](?:\[\])?/).replace("ref",dr).getRegex(),ga=U("reflink|nolink(?!\\()","g").replace("reflink",qn).replace("nolink",Wn).getRegex(),fr={_backpedal:Ze,anyPunctuation:da,autolink:ha,blockSkip:aa,br:zn,code:ea,del:Ze,emStrongLDelim:ia,emStrongRDelimAst:oa,emStrongRDelimUnd:ua,escape:Js,link:fa,nolink:Wn,punctuation:ra,reflink:qn,reflinkSearch:ga,tag:ma,text:ta,url:Ze},ba={...fr,link:U(/^!?\[(label)\]\((.*?)\)/).replace("label",_t).getRegex(),reflink:U(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_t).getRegex()},Jt={...fr,emStrongRDelimAst:ca,emStrongLDelim:la,url:U(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},xa={...Jt,br:U(zn).replace("{2,}","*").getRegex(),text:U(Jt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ct={normal:pr,gfm:Qs,pedantic:Ks},Ge={normal:fr,gfm:Jt,breaks:xa,pedantic:ba},_a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},an=t=>_a[t];function de(t,e){if(e){if(re.escapeTest.test(t))return t.replace(re.escapeReplace,an)}else if(re.escapeTestNoEncode.test(t))return t.replace(re.escapeReplaceNoEncode,an);return t}function ln(t){try{t=encodeURI(t).replace(re.percentDecode,"%")}catch{return null}return t}function on(t,e){let r=t.replace(re.findPipe,(i,l,o)=>{let u=!1,h=l;for(;--h>=0&&o[h]==="\\";)u=!u;return u?"|":" |"}),a=r.split(re.splitPipe),n=0;if(a[0].trim()||a.shift(),a.length>0&&!a.at(-1)?.trim()&&a.pop(),e)if(a.length>e)a.splice(e);else for(;a.length<e;)a.push("");for(;n<a.length;n++)a[n]=a[n].trim().replace(re.slashPipe,"|");return a}function Ye(t,e,r){let a=t.length;if(a===0)return"";let n=0;for(;n<a&&t.charAt(a-n-1)===e;)n++;return t.slice(0,a-n)}function ya(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let a=0;a<t.length;a++)if(t[a]==="\\")a++;else if(t[a]===e[0])r++;else if(t[a]===e[1]&&(r--,r<0))return a;return r>0?-2:-1}function cn(t,e,r,a,n){let i=e.href,l=e.title||null,o=t[1].replace(n.other.outputLinkReplace,"$1");a.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:i,title:l,text:o,tokens:a.inlineTokens(o)};return a.state.inLink=!1,u}function ka(t,e,r){let a=t.match(r.other.indentCodeCompensation);if(a===null)return e;let n=a[1];return e.split(`
`).map(i=>{let l=i.match(r.other.beginningSpace);if(l===null)return i;let[o]=l;return o.length>=n.length?i.slice(n.length):i}).join(`
`)}var yt=class{options;rules;lexer;constructor(t){this.options=t||Te}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ye(r,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let r=e[0],a=ka(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:a}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){let a=Ye(r,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(r=a.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Ye(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let r=Ye(e[0],`
`).split(`
`),a="",n="",i=[];for(;r.length>0;){let l=!1,o=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))o.push(r[u]),l=!0;else if(!l)o.push(r[u]);else break;r=r.slice(u);let h=o.join(`
`),m=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${h}`:h,n=n?`${n}
${m}`:m;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,i,!0),this.lexer.state.top=d,r.length===0)break;let b=i.at(-1);if(b?.type==="code")break;if(b?.type==="blockquote"){let p=b,x=p.raw+`
`+r.join(`
`),C=this.blockquote(x);i[i.length-1]=C,a=a.substring(0,a.length-p.raw.length)+C.raw,n=n.substring(0,n.length-p.text.length)+C.text;break}else if(b?.type==="list"){let p=b,x=p.raw+`
`+r.join(`
`),C=this.list(x);i[i.length-1]=C,a=a.substring(0,a.length-b.raw.length)+C.raw,n=n.substring(0,n.length-p.raw.length)+C.raw,r=x.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:i,text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim(),a=r.length>1,n={type:"list",raw:"",ordered:a,start:a?+r.slice(0,-1):"",loose:!1,items:[]};r=a?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=a?r:"[*+-]");let i=this.rules.other.listItemRegex(r),l=!1;for(;t;){let u=!1,h="",m="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;h=e[0],t=t.substring(h.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),b=t.split(`
`,1)[0],p=!d.trim(),x=0;if(this.options.pedantic?(x=2,m=d.trimStart()):p?x=e[1].length+1:(x=e[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,m=d.slice(x),x+=e[1].length),p&&this.rules.other.blankLine.test(b)&&(h+=b+`
`,t=t.substring(b.length+1),u=!0),!u){let S=this.rules.other.nextBulletRegex(x),g=this.rules.other.hrRegex(x),P=this.rules.other.fencesBeginRegex(x),$=this.rules.other.headingBeginRegex(x),j=this.rules.other.htmlBeginRegex(x);for(;t;){let O=t.split(`
`,1)[0],y;if(b=O,this.options.pedantic?(b=b.replace(this.rules.other.listReplaceNesting,"  "),y=b):y=b.replace(this.rules.other.tabCharGlobal,"    "),P.test(b)||$.test(b)||j.test(b)||S.test(b)||g.test(b))break;if(y.search(this.rules.other.nonSpaceChar)>=x||!b.trim())m+=`
`+y.slice(x);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||P.test(d)||$.test(d)||g.test(d))break;m+=`
`+b}!p&&!b.trim()&&(p=!0),h+=O+`
`,t=t.substring(O.length+1),d=y.slice(x)}}n.loose||(l?n.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(l=!0));let C=null,L;this.options.gfm&&(C=this.rules.other.listIsTask.exec(m),C&&(L=C[0]!=="[ ] ",m=m.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:h,task:!!C,checked:L,loose:!1,text:m,tokens:[]}),n.raw+=h}let o=n.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let u=0;u<n.items.length;u++)if(this.lexer.state.top=!1,n.items[u].tokens=this.lexer.blockTokens(n.items[u].text,[]),!n.loose){let h=n.items[u].tokens.filter(d=>d.type==="space"),m=h.length>0&&h.some(d=>this.rules.other.anyLine.test(d.raw));n.loose=m}if(n.loose)for(let u=0;u<n.items.length;u++)n.items[u].loose=!0;return n}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:a,title:n}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let r=on(e[1]),a=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===a.length){for(let l of a)this.rules.other.tableAlignRight.test(l)?i.align.push("right"):this.rules.other.tableAlignCenter.test(l)?i.align.push("center"):this.rules.other.tableAlignLeft.test(l)?i.align.push("left"):i.align.push(null);for(let l=0;l<r.length;l++)i.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:i.align[l]});for(let l of n)i.rows.push(on(l,i.header.length).map((o,u)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:i.align[u]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let i=Ye(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=ya(e[2],"()");if(i===-2)return;if(i>-1){let l=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let a=e[2],n="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(a);i&&(a=i[1],n=i[3])}else n=e[3]?e[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?a=a.slice(1):a=a.slice(1,-1)),cn(e,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let a=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=e[a.toLowerCase()];if(!n){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return cn(r,n,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!(!a||a[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!r||this.rules.inline.punctuation.exec(r))){let n=[...a[0]].length-1,i,l,o=n,u=0,h=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+n);(a=h.exec(e))!=null;){if(i=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!i)continue;if(l=[...i].length,a[3]||a[4]){o+=l;continue}else if((a[5]||a[6])&&n%3&&!((n+l)%3)){u+=l;continue}if(o-=l,o>0)continue;l=Math.min(l,l+o+u);let m=[...a[0]][0].length,d=t.slice(0,n+a.index+m+l);if(Math.min(n,l)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let b=d.slice(2,-2);return{type:"strong",raw:d,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(r),n=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return a&&n&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let r,a;return e[2]==="@"?(r=e[1],a="mailto:"+r):(r=e[1],a=r),{type:"link",raw:e[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let r,a;if(e[2]==="@")r=e[0],a="mailto:"+r;else{let n;do n=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(n!==e[0]);r=e[0],e[1]==="www."?a="http://"+e[0]:a=e[0]}return{type:"link",raw:e[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},xe=class er{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Te,this.options.tokenizer=this.options.tokenizer||new yt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:re,block:ct.normal,inline:Ge.normal};this.options.pedantic?(r.block=ct.pedantic,r.inline=Ge.pedantic):this.options.gfm&&(r.block=ct.gfm,this.options.breaks?r.inline=Ge.breaks:r.inline=Ge.gfm),this.tokenizer.rules=r}static get rules(){return{block:ct,inline:Ge}}static lex(e,r){return new er(r).lex(e)}static lexInline(e,r){return new er(r).inlineTokens(e)}lex(e){e=e.replace(re.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let a=this.inlineQueue[r];this.inlineTokens(a.src,a.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],a=!1){for(this.options.pedantic&&(e=e.replace(re.tabCharGlobal,"    ").replace(re.spaceLine,""));e;){let n;if(this.options.extensions?.block?.some(l=>(n=l.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))continue;if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length);let l=r.at(-1);n.raw.length===1&&l!==void 0?l.raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length);let l=r.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.at(-1).src=l.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length);let l=r.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=`
`+n.raw,l.text+=`
`+n.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}let i=e;if(this.options.extensions?.startBlock){let l=1/0,o=e.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},o),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(i=e.substring(0,l+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){let l=r.at(-1);a&&l?.type==="paragraph"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):r.push(n),a=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length);let l=r.at(-1);l?.type==="text"?(l.raw+=`
`+n.raw,l.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):r.push(n);continue}if(e){let l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let a=e,n=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)o.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,n.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,l="";for(;e;){i||(l=""),i=!1;let o;if(this.options.extensions?.inline?.some(h=>(o=h.call({lexer:this},e,r))?(e=e.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let h=r.at(-1);o.type==="text"&&h?.type==="text"?(h.raw+=o.raw,h.text+=o.text):r.push(o);continue}if(o=this.tokenizer.emStrong(e,a,l)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),r.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),r.push(o);continue}let u=e;if(this.options.extensions?.startInline){let h=1/0,m=e.slice(1),d;this.options.extensions.startInline.forEach(b=>{d=b.call({lexer:this},m),typeof d=="number"&&d>=0&&(h=Math.min(h,d))}),h<1/0&&h>=0&&(u=e.substring(0,h+1))}if(o=this.tokenizer.inlineText(u)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(l=o.raw.slice(-1)),i=!0;let h=r.at(-1);h?.type==="text"?(h.raw+=o.raw,h.text+=o.text):r.push(o);continue}if(e){let h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}},kt=class{options;parser;constructor(t){this.options=t||Te}space(t){return""}code({text:t,lang:e,escaped:r}){let a=(e||"").match(re.notSpaceStart)?.[0],n=t.replace(re.endingNewline,"")+`
`;return a?'<pre><code class="language-'+de(a)+'">'+(r?n:de(n,!0))+`</code></pre>
`:"<pre><code>"+(r?n:de(n,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,r=t.start,a="";for(let l=0;l<t.items.length;l++){let o=t.items[l];a+=this.listitem(o)}let n=e?"ol":"ul",i=e&&r!==1?' start="'+r+'"':"";return"<"+n+i+`>
`+a+"</"+n+`>
`}listitem(t){let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+de(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let n=0;n<t.header.length;n++)r+=this.tablecell(t.header[n]);e+=this.tablerow({text:r});let a="";for(let n=0;n<t.rows.length;n++){let i=t.rows[n];r="";for(let l=0;l<i.length;l++)r+=this.tablecell(i[l]);a+=this.tablerow({text:r})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${de(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){let a=this.parser.parseInline(r),n=ln(t);if(n===null)return a;t=n;let i='<a href="'+t+'"';return e&&(i+=' title="'+de(e)+'"'),i+=">"+a+"</a>",i}image({href:t,title:e,text:r,tokens:a}){a&&(r=this.parser.parseInline(a,this.parser.textRenderer));let n=ln(t);if(n===null)return de(r);t=n;let i=`<img src="${t}" alt="${r}"`;return e&&(i+=` title="${de(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:de(t.text)}},gr=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},_e=class tr{options;renderer;textRenderer;constructor(e){this.options=e||Te,this.options.renderer=this.options.renderer||new kt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new gr}static parse(e,r){return new tr(r).parse(e)}static parseInline(e,r){return new tr(r).parseInline(e)}parse(e,r=!0){let a="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions?.renderers?.[i.type]){let o=i,u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){a+=u||"";continue}}let l=i;switch(l.type){case"space":{a+=this.renderer.space(l);continue}case"hr":{a+=this.renderer.hr(l);continue}case"heading":{a+=this.renderer.heading(l);continue}case"code":{a+=this.renderer.code(l);continue}case"table":{a+=this.renderer.table(l);continue}case"blockquote":{a+=this.renderer.blockquote(l);continue}case"list":{a+=this.renderer.list(l);continue}case"html":{a+=this.renderer.html(l);continue}case"paragraph":{a+=this.renderer.paragraph(l);continue}case"text":{let o=l,u=this.renderer.text(o);for(;n+1<e.length&&e[n+1].type==="text";)o=e[++n],u+=`
`+this.renderer.text(o);r?a+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):a+=u;continue}default:{let o='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return a}parseInline(e,r=this.renderer){let a="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions?.renderers?.[i.type]){let o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){a+=o||"";continue}}let l=i;switch(l.type){case"escape":{a+=r.text(l);break}case"html":{a+=r.html(l);break}case"link":{a+=r.link(l);break}case"image":{a+=r.image(l);break}case"strong":{a+=r.strong(l);break}case"em":{a+=r.em(l);break}case"codespan":{a+=r.codespan(l);break}case"br":{a+=r.br(l);break}case"del":{a+=r.del(l);break}case"text":{a+=r.text(l);break}default:{let o='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return a}},ft=class{options;block;constructor(t){this.options=t||Te}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?xe.lex:xe.lexInline}provideParser(){return this.block?_e.parse:_e.parseInline}},va=class{defaults=or();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_e;Renderer=kt;TextRenderer=gr;Lexer=xe;Tokenizer=yt;Hooks=ft;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(let a of t)switch(r=r.concat(e.call(this,a)),a.type){case"table":{let n=a;for(let i of n.header)r=r.concat(this.walkTokens(i.tokens,e));for(let i of n.rows)for(let l of i)r=r.concat(this.walkTokens(l.tokens,e));break}case"list":{let n=a;r=r.concat(this.walkTokens(n.items,e));break}default:{let n=a;this.defaults.extensions?.childTokens?.[n.type]?this.defaults.extensions.childTokens[n.type].forEach(i=>{let l=n[i].flat(1/0);r=r.concat(this.walkTokens(l,e))}):n.tokens&&(r=r.concat(this.walkTokens(n.tokens,e)))}}return r}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let a={...r};if(a.async=this.defaults.async||a.async||!1,r.extensions&&(r.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let i=e.renderers[n.name];i?e.renderers[n.name]=function(...l){let o=n.renderer.apply(this,l);return o===!1&&(o=i.apply(this,l)),o}:e.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[n.level];i?i.unshift(n.tokenizer):e[n.level]=[n.tokenizer],n.start&&(n.level==="block"?e.startBlock?e.startBlock.push(n.start):e.startBlock=[n.start]:n.level==="inline"&&(e.startInline?e.startInline.push(n.start):e.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(e.childTokens[n.name]=n.childTokens)}),a.extensions=e),r.renderer){let n=this.defaults.renderer||new kt(this.defaults);for(let i in r.renderer){if(!(i in n))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let l=i,o=r.renderer[l],u=n[l];n[l]=(...h)=>{let m=o.apply(n,h);return m===!1&&(m=u.apply(n,h)),m||""}}a.renderer=n}if(r.tokenizer){let n=this.defaults.tokenizer||new yt(this.defaults);for(let i in r.tokenizer){if(!(i in n))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let l=i,o=r.tokenizer[l],u=n[l];n[l]=(...h)=>{let m=o.apply(n,h);return m===!1&&(m=u.apply(n,h)),m}}a.tokenizer=n}if(r.hooks){let n=this.defaults.hooks||new ft;for(let i in r.hooks){if(!(i in n))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let l=i,o=r.hooks[l],u=n[l];ft.passThroughHooks.has(i)?n[l]=h=>{if(this.defaults.async)return Promise.resolve(o.call(n,h)).then(d=>u.call(n,d));let m=o.call(n,h);return u.call(n,m)}:n[l]=(...h)=>{let m=o.apply(n,h);return m===!1&&(m=u.apply(n,h)),m}}a.hooks=n}if(r.walkTokens){let n=this.defaults.walkTokens,i=r.walkTokens;a.walkTokens=function(l){let o=[];return o.push(i.call(this,l)),n&&(o=o.concat(n.call(this,l))),o}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return xe.lex(t,e??this.defaults)}parser(t,e){return _e.parse(t,e??this.defaults)}parseMarkdown(t){return(e,r)=>{let a={...r},n={...this.defaults,...a},i=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&a.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));n.hooks&&(n.hooks.options=n,n.hooks.block=t);let l=n.hooks?n.hooks.provideLexer():t?xe.lex:xe.lexInline,o=n.hooks?n.hooks.provideParser():t?_e.parse:_e.parseInline;if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(e):e).then(u=>l(u,n)).then(u=>n.hooks?n.hooks.processAllTokens(u):u).then(u=>n.walkTokens?Promise.all(this.walkTokens(u,n.walkTokens)).then(()=>u):u).then(u=>o(u,n)).then(u=>n.hooks?n.hooks.postprocess(u):u).catch(i);try{n.hooks&&(e=n.hooks.preprocess(e));let u=l(e,n);n.hooks&&(u=n.hooks.processAllTokens(u)),n.walkTokens&&this.walkTokens(u,n.walkTokens);let h=o(u,n);return n.hooks&&(h=n.hooks.postprocess(h)),h}catch(u){return i(u)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let a="<p>An error occurred:</p><pre>"+de(r.message+"",!0)+"</pre>";return e?Promise.resolve(a):a}if(e)return Promise.reject(r);throw r}}},Ne=new va;function M(t,e){return Ne.parse(t,e)}M.options=M.setOptions=function(t){return Ne.setOptions(t),M.defaults=Ne.defaults,On(M.defaults),M};M.getDefaults=or;M.defaults=Te;M.use=function(...t){return Ne.use(...t),M.defaults=Ne.defaults,On(M.defaults),M};M.walkTokens=function(t,e){return Ne.walkTokens(t,e)};M.parseInline=Ne.parseInline;M.Parser=_e;M.parser=_e.parse;M.Renderer=kt;M.TextRenderer=gr;M.Lexer=xe;M.lexer=xe.lex;M.Tokenizer=yt;M.Hooks=ft;M.parse=M;M.options;M.setOptions;M.use;M.walkTokens;M.parseInline;_e.parse;xe.lex;function un(t){try{if(typeof M.parseInline=="function"){const r=M.parseInline(t);return typeof r=="string"?r:""}const e=M(t);return typeof e=="string"?e:""}catch{return""}}const dn=[{type:bt.CHAT,pricing:"0",charge_type:xt.PER_REQUEST,enabled:!1},{type:bt.SEARCH,pricing:"0",charge_type:xt.PER_REQUEST,enabled:!1}];function Gn({isOpen:t,onClose:e,routerName:r,onSuccess:a,routerDetails:n}){const{color:i}=Nt(),l=lr(i),[o,u]=A(1),[h,m]=A(""),[d,b]=A(""),[p,x]=A([]),[C,L]=A(""),[S,g]=A(dn),[P,$]=A(null),[j,O]=A(!1),[y,E]=A(null),[N,_]=A(null),[R,B]=A(null);he(()=>{if(t&&n&&(n.summary&&m(n.summary),n.description&&b(n.description),n.tags&&x(n.tags),n.services)){const k=dn.map(T=>{const H=n.services?.find(D=>D.type===T.type);return H?{type:H.type,pricing:H.pricing,charge_type:H.charge_type,enabled:H.enabled}:T});g(k)}},[t,n]);const W=["Router Name","Summary","Description","Tags","Pricing","Review","Success"],G=()=>s("div",{className:"flex flex-col items-center mb-8",children:s("div",{className:"flex items-center w-full max-w-lg",children:W.map((k,T)=>{const H=o===T+1,D=o>T+1;return s("div",{className:"flex-1 flex flex-col items-center",children:[s("div",{className:"relative flex items-center justify-center",children:[s("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 transition-colors duration-200
                    ${D?`${l.bg600} ${l.border600} text-white`:H?`bg-white ${l.border600} ${l.text600}`:"bg-gray-200 border-gray-300 text-gray-400"}`,children:D?s("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):s("span",{className:"font-bold",children:T+1})}),T<W.length-1&&s("div",{className:`absolute left-full top-1/2 transform -translate-y-1/2 w-12 h-1 ${o>T+1?l.bg600:"bg-gray-300"}`})]}),s("span",{className:`mt-2 text-xs font-medium ${H?l.text700:D?l.text600:"text-gray-400"}`,children:k})]},k)})})});let Z=s("div",{});o===1?Z=s("div",{children:[G(),s("div",{className:"mb-6",children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Router Name"}),s("input",{type:"text",value:r,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-700"})]}),s("div",{className:"flex justify-end",children:s(z,{variant:"primary",onClick:()=>u(2),children:"Next"})})]}):o===2?Z=s("div",{children:[G(),s("div",{className:"mb-6",children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Summary (max 100 words)"}),s("textarea",{value:h,onInput:k=>{m(k.target.value),k.target.value.trim()&&_(null)},maxLength:800,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter a short summary of your router..."}),N&&s("div",{className:"text-error-600 text-xs mt-1",children:N})]}),s("div",{className:"flex justify-between",children:[s(z,{variant:"ghost",onClick:()=>u(1),children:"Back"}),s(z,{variant:"primary",onClick:()=>{ie()&&u(3)},disabled:!h.trim(),children:"Next"})]})]}):o===3?Z=s("div",{children:[G(),s("div",{className:"mb-6",children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Markdown supported)"}),s("textarea",{value:d,onInput:k=>{b(k.target.value),k.target.value.trim()&&B(null)},maxLength:800,rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4",placeholder:"Write your router description using markdown..."}),R&&s("div",{className:"text-error-600 text-xs mt-1",children:R}),s("div",{className:"mt-2",children:[s("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Preview:"}),s("div",{className:"prose prose-sm max-w-none border rounded p-3 bg-gray-50",dangerouslySetInnerHTML:{__html:Kt.sanitize(un(d))}})]})]}),s("div",{className:"flex justify-between",children:[s(z,{variant:"ghost",onClick:()=>u(2),children:"Back"}),s(z,{variant:"primary",onClick:()=>{ie()&&u(4)},disabled:!d.trim(),children:"Next"})]})]}):o===4?Z=s("div",{children:[G(),s("div",{className:"mb-6",children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s("div",{className:"flex items-center gap-2 mb-2",children:[s("input",{type:"text",value:C,onInput:k=>L(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add a tag...",onKeyDown:k=>{k.key==="Enter"&&C.trim()&&(x([...p,C.trim()]),L(""),k.preventDefault())}}),s(z,{variant:"primary",size:"sm",onClick:()=>{C.trim()&&(x([...p,C.trim()]),L(""))},children:"+"})]}),s("div",{className:"flex flex-wrap gap-2",children:p.map((k,T)=>s("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-200 text-gray-700 text-xs font-medium",children:[k,s("button",{className:"ml-1 text-gray-500 hover:text-red-500",onClick:()=>x(p.filter((H,D)=>D!==T)),children:""})]},k+T))})]}),s("div",{className:"flex justify-between",children:[s(z,{variant:"ghost",onClick:()=>u(3),children:"Back"}),s(z,{variant:"primary",onClick:()=>u(5),children:"Next"})]})]}):o===5?Z=s("div",{children:[G(),s("div",{className:"mb-6",children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pricing (USD)"}),s("div",{className:"space-y-4",children:S.map(k=>s("div",{className:`flex items-center gap-4 p-4 rounded-lg border ${k.enabled?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"} shadow-sm transition`,children:[s("label",{className:"flex items-center gap-2 font-semibold text-lg cursor-pointer",children:[s("span",{className:k.enabled?"text-blue-700":"text-gray-400",children:k.type}),s("button",{type:"button",role:"switch","aria-checked":k.enabled,tabIndex:0,onClick:()=>ye(k.type),onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&ye(k.type)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none ${k.enabled?l.bg600:"bg-gray-300"}`,children:s("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform duration-200 ${k.enabled?"translate-x-5":"translate-x-1"}`})})]}),s("div",{className:"flex items-center gap-1",children:[s("span",{className:"text-gray-500",children:"$"}),s("input",{type:"text",value:k.pricing,onInput:T=>ke(k.type,T.target.value),disabled:!k.enabled,className:"w-20 px-2 py-1 rounded border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 disabled:bg-gray-100",placeholder:"$ per request"})]}),s("select",{value:k.charge_type,onChange:T=>Et(k.type,T),disabled:!k.enabled,className:"px-2 py-1 rounded border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 disabled:bg-gray-100",children:s("option",{value:xt.PER_REQUEST,children:"per request"})})]},k.type))})]}),s("div",{className:"flex justify-between",children:[s(z,{variant:"ghost",onClick:()=>u(4),children:"Back"}),s(z,{variant:"primary",onClick:()=>{ie()&&u(6)},disabled:!S.some(k=>k.enabled),children:"Review"})]})]}):o===6?Z=s("div",{children:[G(),y&&s("div",{className:"bg-error-50 border border-error-200 rounded-md p-4 text-error-700 text-sm mb-4",children:y}),s("div",{className:"mb-6 space-y-4",children:[s("div",{children:[s("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Router Name"}),s("div",{className:"p-2 bg-gray-50 rounded border text-gray-700",children:r})]}),s("div",{children:[s("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Summary"}),s("div",{className:"p-2 bg-gray-50 rounded border text-gray-700",children:h})]}),s("div",{children:[s("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),s("div",{className:"prose prose-sm max-w-none border rounded p-3 bg-gray-50",dangerouslySetInnerHTML:{__html:Kt.sanitize(un(d))}})]}),s("div",{children:[s("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Tags"}),s("div",{className:"flex flex-wrap gap-2",children:p.map((k,T)=>s("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-200 text-gray-700 text-xs font-medium",children:k},k+T))})]}),s("div",{children:[s("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Pricing"}),s("div",{className:"flex gap-4",children:S.map(k=>s("div",{className:"flex-1",children:s("span",{className:"font-mono",children:[k.type,": $",k.pricing||"0.00"]})},k.type))})]})]}),s("div",{className:"flex justify-between",children:[s(z,{variant:"ghost",onClick:()=>u(5),disabled:j,children:"Back"}),s(z,{variant:"primary",onClick:async()=>{O(!0),E(null);const k={router_name:r,summary:h,description:d,tags:p,services:S.map(H=>({...H,pricing:parseFloat(H.pricing)}))},T=await le.publishRouter(k);O(!1),T.success&&T.data&&T.data.published_path?($(T.data.published_path),u(7),a&&a(T.data.published_path)):E(T.error||"Failed to publish router")},loading:j,disabled:j||!S.some(k=>k.enabled),children:"Publish"})]})]}):o===7&&(Z=s("div",{children:[G(),s("div",{className:"text-center py-8",children:[s("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-success-100 mb-4",children:s("svg",{className:"h-6 w-6 text-success-600 animate-checkmark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Router Published!"}),s("p",{className:"text-sm text-gray-500 mb-4",children:"Your router has been published successfully."}),s("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Published Path:"}),s("div",{className:"flex items-center justify-between bg-white rounded border p-2",children:s("code",{className:"text-sm text-gray-600 flex-1 mr-2 truncate",children:P||"/path/to/published/router"})})]}),s("div",{className:"flex justify-center space-x-3",children:s(z,{variant:"primary",onClick:e,children:"Go to Routers"})})]})]}));function ie(){let k=!0;return o===2&&(h.trim()?_(null):(_("Summary is required"),k=!1)),o===3&&(d.trim()?B(null):(B("Description is required"),k=!1)),k}const ye=k=>{g(T=>T.map(H=>H.type===k?{...H,enabled:!H.enabled,pricing:(H.enabled,"0")}:H))},ke=(k,T)=>{g(H=>H.map(D=>D.type===k?{...D,pricing:T}:D))},Et=(k,T)=>{const H=T.target.value;g(D=>D.map(Se=>Se.type===k?{...Se,charge_type:H}:Se))};return s(An,{isOpen:t,onClose:e,title:"Publish Router",size:"lg",children:Z})}function wa({onRouterClick:t,profile:e}){const[r,a]=A([]),[n,i]=A(!0),[l,o]=A(null),[u,h]=A(!1),[m,d]=A(null),[b,p]=A(null),x=async()=>{i(!0),o(null);try{const g=await le.listRouters();g.success&&g.data?a(g.data):o(g.error||"Failed to load routers")}catch{o("An unexpected error occurred")}finally{i(!1)}};he(()=>{x()},[]);const C=()=>{x()},L=async g=>{try{const P=await le.getUsername();if(P.success&&P.data){const $=P.data.username,j=r.find(O=>O.name===g);if(j&&j.author===$){const O=await le.getRouterDetails(g,$,!1);O.success&&O.data&&p({summary:O.data.metadata?.summary,description:O.data.metadata?.description,tags:O.data.metadata?.tags,services:O.data.services?.map(y=>({type:y.type,pricing:y.pricing.toString(),charge_type:y.charge_type,enabled:y.enabled}))})}}d(g)}catch(P){console.error("Error fetching router details:",P),d(g)}},S=e==="client"?r.filter(g=>g.published):r;return s("div",{className:"space-y-8",children:[s("div",{className:"flex justify-between items-center mb-6",children:[s("div",{children:[s("h1",{className:"text-3xl font-bold text-gray-900",children:"Routers"}),s("p",{className:"text-gray-600 mt-1",children:"Manage your AI router projects"})]}),e==="provider"&&s(z,{variant:"primary",onClick:()=>h(!0),className:"flex items-center space-x-2",children:[s("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),s("span",{children:"Create Router"})]})]}),s("div",{className:"bg-white rounded-lg shadow-sm divide-y divide-gray-200",children:n?s("div",{className:"py-12 text-center text-gray-500",children:"Loading routers..."}):l?s("div",{className:"py-12 text-center text-error-600",children:l}):S.length===0?s("div",{className:"py-12 text-center text-gray-500",children:["No routers found. ",e==="provider"?'Click "Create Router" to get started.':""]}):s("div",{className:"space-y-6 py-4",children:S.map(g=>s("div",{className:"flex flex-row items-stretch justify-between bg-white rounded-lg shadow border border-gray-100 hover:shadow-md transition p-6 gap-4",children:[s("div",{className:"flex flex-col flex-1 min-w-0",children:[s("div",{className:"flex items-center gap-2 mb-1",children:[s("span",{className:"text-lg font-semibold text-gray-900 truncate",children:g.name}),s("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.published?"bg-success-100 text-success-800":"bg-gray-100 text-gray-800"}`,children:g.published?"Published":"Draft"})]}),s("div",{className:"text-xs text-gray-500 mb-2",children:["Author ",g.author]}),g.summary&&s("div",{className:"text-sm text-gray-700 max-w-md bg-gray-50 rounded px-3 py-2 mb-3 break-words",children:g.summary.split(" ").length>50?g.summary.split(" ").slice(0,50).join(" ")+"...":g.summary}),g.services&&g.services.length>0&&s("div",{className:"flex flex-wrap gap-2 mt-1",children:g.services.filter(P=>P.enabled).map(P=>s("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 border border-blue-200",children:[s("span",{className:"capitalize mr-1",children:[P.type,":"]}),s("span",{className:"font-mono mr-1",children:["$",P.pricing]}),s("span",{className:"text-blue-600",children:[" ",P.charge_type.replace("_"," ")]})]},P.type))})]}),s("div",{className:"flex flex-col items-end justify-between min-w-[120px] ml-4",children:[s(z,{variant:"ghost",size:"sm",onClick:()=>t?.(g.name,g.published,g.author),children:"View Details"}),e==="provider"&&!g.published&&s(z,{variant:"primary",size:"sm",className:"mt-2",onClick:()=>L(g.name),children:"Publish"})]})]},g.name))})}),e==="provider"&&s(_s,{isOpen:u,onClose:()=>h(!1),onSuccess:C}),m&&s(Gn,{isOpen:!!m,onClose:()=>{d(null),p(null),x()},routerName:m,routerDetails:b})]})}function Na(t){try{if(typeof M.parseInline=="function"){const r=M.parseInline(t);return typeof r=="string"?r:""}const e=M(t);return typeof e=="string"?e:""}catch{return""}}function Ta(t){return t.replace(/[-_]/g," ").replace(/\b\w/g,e=>e.toUpperCase())}function Sa(t){switch(t.toUpperCase()){case"GET":return"bg-green-100 text-green-800 border-green-200";case"POST":return"bg-blue-100 text-blue-800 border-blue-200";case"PUT":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"DELETE":return"bg-red-100 text-red-800 border-red-200";case"PATCH":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}}function Oe({schema:t,name:e}){return!t||typeof t!="object"?null:s("div",{className:"text-sm",children:[e&&s("span",{className:"font-semibold text-gray-800 mr-2",children:[e,":"]}),(a=>{if(a.$ref){const n=a.$ref.split("/").pop();return s("span",{className:"text-blue-600 font-mono",children:n})}return a.enum?s("div",{className:"flex flex-wrap gap-1",children:a.enum.map(n=>s("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:n},n))}):a.type==="array"&&a.items?s("span",{className:"text-gray-700",children:["Array of ",s(Oe,{schema:a.items})]}):a.type==="object"&&a.properties?s("div",{className:"ml-4 border-l-2 border-gray-200 pl-3",children:Object.entries(a.properties).map(([n,i])=>s("div",{className:"mb-2",children:[s("div",{className:"flex items-center gap-2",children:[s("span",{className:"font-mono text-sm text-gray-800",children:n}),a.required?.includes(n)&&s("span",{className:"text-xs bg-red-100 text-red-700 px-1 rounded",children:"required"})]}),s("div",{className:"ml-4",children:s(Oe,{schema:i})})]},n))}):s("span",{className:"text-gray-700 font-mono",children:a.type||"object"})})(t)]})}function Ea({path:t,method:e,operation:r}){return!r||typeof r!="object"?null:s("div",{className:"border border-gray-200 rounded-lg p-6 mb-6",children:[s("div",{className:"flex items-center gap-3 mb-4",children:[s("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Sa(e)}`,children:e.toUpperCase()}),s("code",{className:"text-lg font-mono text-gray-800 bg-gray-100 px-3 py-1 rounded",children:t}),s("span",{className:"text-lg font-semibold text-gray-700",children:r.summary||"No summary"})]}),s("p",{className:"text-gray-600 mb-4 whitespace-pre-line",children:r.description||"No description available"}),r.parameters&&Array.isArray(r.parameters)&&r.parameters.length>0&&s("div",{className:"mb-4",children:[s("h5",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Parameters:"}),s("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:r.parameters.map(a=>s("div",{className:"flex items-center justify-between",children:[s("div",{className:"flex items-center gap-2",children:[s("code",{className:"text-sm font-mono text-blue-600",children:a.name}),s("span",{className:"text-xs text-gray-500",children:["(",a.in,")"]}),a.required&&s("span",{className:"text-xs bg-red-100 text-red-700 px-1 rounded",children:"required"})]}),s(Oe,{schema:a.schema})]},a.name))})]}),r.requestBody&&r.requestBody.content&&r.requestBody.content["application/json"]&&s("div",{className:"mb-4",children:[s("h5",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Request Body:"}),s("div",{className:"bg-gray-50 rounded-lg p-4",children:s(Oe,{schema:r.requestBody.content["application/json"].schema})})]}),s("div",{children:[s("h5",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Responses:"}),s("div",{className:"space-y-2",children:r.responses&&Object.entries(r.responses).map(([a,n])=>s("div",{className:"bg-gray-50 rounded-lg p-4",children:[s("div",{className:"flex items-center gap-2 mb-2",children:[s("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold ${a.startsWith("2")?"bg-green-100 text-green-800":a.startsWith("4")?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a}),s("span",{className:"text-sm text-gray-600",children:n.description||"No description"})]}),n.content&&n.content["application/json"]&&s(Oe,{schema:n.content["application/json"].schema})]},a))})]})]})}function Ra({routerStatus:t,loading:e,onRefresh:r}){const a=n=>{switch(n.toLowerCase()){case"running":return"bg-green-100 text-green-800 border-green-200";case"stopped":return"bg-gray-100 text-gray-800 border-gray-200";case"failed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}};return e?s("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-lg p-6",children:[s("div",{className:"flex items-center justify-between mb-4",children:[s("h3",{className:"text-lg font-bold text-gray-800",children:"Router Status"}),s("button",{onClick:r,disabled:e,className:"text-sm text-blue-600 hover:text-blue-800 disabled:text-gray-400",children:"Refresh"})]}),s("div",{className:"text-center text-gray-500 py-4",children:"Loading status..."})]}):t?s("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-lg p-6",children:[s("div",{className:"flex items-center justify-between mb-4",children:[s("h3",{className:"text-lg font-bold text-gray-800",children:"Router Status"}),s("button",{onClick:r,disabled:e,className:"text-sm text-blue-600 hover:text-blue-800 disabled:text-gray-400",children:"Refresh"})]}),s("div",{className:"mb-4",children:[s("div",{className:"flex items-center justify-between mb-2",children:[s("span",{className:"text-sm font-semibold text-gray-700",children:"Router"}),s("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${a(t.status)}`,children:t.status})]}),t.url&&s("div",{className:"text-sm text-gray-600",children:s("span",{className:"font-mono",children:t.url})})]}),t.services&&t.services.length>0&&s("div",{children:[s("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Services"}),s("div",{className:"space-y-2",children:t.services.map(n=>s("div",{className:"flex items-center justify-between",children:[s("div",{className:"flex items-center gap-2",children:[s("span",{className:"text-sm text-gray-600 capitalize",children:n.name}),n.url&&s("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",title:`Open ${n.name} service`,children:s("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),s("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold border ${a(n.status)}`,children:n.status})]},n.name))})]})]}):s("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-lg p-6",children:[s("div",{className:"flex items-center justify-between mb-4",children:[s("h3",{className:"text-lg font-bold text-gray-800",children:"Router Status"}),s("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-800",children:"Refresh"})]}),s("div",{className:"text-center text-gray-500 py-4",children:"No status available"})]})}function Aa({routerName:t,published:e,author:r,onBack:a,profile:n}){const[i,l]=A(null),[o,u]=A(!0),[h,m]=A(null),[d,b]=A("overview"),[p,x]=A(null),[C,L]=A(!1),{color:S}=Nt(),g=lr(S),[P,$]=A(!1),[j,O]=A(!1),[y,E]=A(null);he(()=>{le.getUsername().then(_=>{_.success&&_.data&&E(_.data.username)}).catch(()=>{})},[]);const N=async()=>{if(confirm("Are you sure you want to unpublish this router? This action cannot be undone.")){O(!0);try{const _=await le.unpublishRouter(t);_.success?window.location.reload():alert(`Failed to unpublish router: ${_.error}`)}catch(_){console.error("Error unpublishing router:",_),alert("An error occurred while unpublishing the router")}finally{O(!1)}}};return he(()=>{u(!0),m(null),le.getRouterDetails(t,r,e).then(_=>{_.success&&_.data?l(_.data):m(_.error||"Failed to load router details.")}).catch(()=>m("Failed to load router details.")).finally(()=>u(!1))},[t,r,e]),he(()=>{y&&r===y&&(L(!0),le.getRouterStatus(t).then(_=>{_.success&&_.data&&x(_.data)}).catch(()=>{}).finally(()=>L(!1)))},[y,r,t,e]),n==="client"&&!e?s("div",{className:"max-w-4xl mx-auto py-8",children:[s(z,{variant:"ghost",onClick:a,className:"mb-6",children:" Back to Dashboard"}),s("div",{className:"text-center text-error-600 py-12",children:"You do not have access to this router. Only published routers are available in client mode."})]}):s("div",{className:"max-w-4xl mx-auto py-8",children:[s(z,{variant:"ghost",onClick:a,className:"mb-8",children:" Back"}),o?s("div",{className:"py-12 text-center text-gray-500",children:"Loading router details..."}):h?s("div",{className:"py-12 text-center text-error-600",children:h}):i&&s(Qe,{children:[s("div",{className:"flex space-x-8 border-b border-gray-200 mb-10",children:[s("button",{className:`px-4 py-2 text-base font-semibold border-b-2 transition-colors duration-200 ${d==="overview"?g.border600+" "+g.text600:"border-transparent text-gray-400"} bg-white focus:outline-none`,onClick:()=>b("overview"),children:"Overview"}),s("button",{className:`px-4 py-2 text-base font-semibold border-b-2 transition-colors duration-200 ${d==="documentation"?g.border600+" "+g.text600:"border-transparent text-gray-400"} bg-white focus:outline-none`,onClick:()=>b("documentation"),children:"API Documentation"}),s("button",{className:"px-4 py-2 text-base font-semibold text-gray-400 cursor-not-allowed flex items-center gap-2",disabled:!0,children:["Usage",s("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200 ml-2",children:"Coming Soon"})]})]}),d==="overview"&&i&&s("div",{className:"flex flex-col md:flex-row gap-12",children:[s("div",{className:"flex-1 space-y-8",children:[s("div",{className:"flex items-center gap-3 mb-2",children:[s("h2",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:Ta(i.name)}),s("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${i.published?g.bg50+" "+g.text600:"bg-gray-100 text-gray-800"} border ${i.published?g.border600:"border-gray-200"}`,children:i.published?"Published":"Draft"})]}),i.metadata?.author&&s("div",{className:"mb-4",children:s("span",{className:"inline-flex items-center px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full font-medium text-sm gap-2",children:[s("svg",{className:"w-4 h-4 text-indigo-400",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 15c2.485 0 4.797.755 6.879 2.047M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),s("a",{href:`mailto:${i.metadata.author}`,className:"hover:underline font-semibold",children:i.metadata.author})]})}),s("div",{children:[s("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Summary"}),s("div",{className:"text-base text-gray-700 max-w-lg bg-gray-50 rounded-xl px-6 py-5 mb-2 shadow-sm border border-gray-100",children:i.metadata?.summary||s("span",{className:"text-gray-400",children:"No summary provided."})})]}),i.metadata?.tags&&i.metadata.tags.length>0&&s("div",{className:"flex flex-wrap gap-3 mt-2",children:i.metadata.tags.map(_=>s("span",{className:`inline-block ${g.bg50} ${g.text600} px-3 py-1 rounded-full text-xs font-semibold border ${g.border600}`,children:_},_))}),n==="provider"&&s("div",{className:"flex justify-end mt-6 gap-3",children:i.published?y&&r===y?s(z,{variant:"ghost",onClick:N,loading:j,className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:"Unpublish Router"}):null:s(z,{variant:"primary",onClick:()=>$(!0),children:"Publish Router"})})]}),s("div",{className:"w-full md:w-96 flex-shrink-0 space-y-4",children:[i.services&&i.services.length>0&&s("div",{className:`bg-white border ${g.border600} rounded-2xl shadow-lg p-8 space-y-4`,children:i.services.map(_=>s("div",{className:`flex items-center justify-between text-base font-semibold px-2 py-2 rounded-md border ${_.enabled?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-400 border-gray-200"}`,children:[s("span",{className:"capitalize",children:_.type}),s("span",{className:"font-mono",children:["$",_.pricing," ",_.charge_type.replace("_"," ")]})]},_.type))}),i.metadata?.code_hash&&s("div",{className:"bg-gray-50 border border-gray-200 rounded-xl shadow-sm px-4 py-2 flex items-center",children:[s("span",{className:"text-xs text-gray-500 mr-2",children:"Code Hash:"}),s("span",{className:`font-mono text-xs ${g.text600} truncate`,title:i.metadata.code_hash,children:i.metadata.code_hash.slice(0,8)})]}),y&&r===y&&s(Ra,{routerStatus:p,loading:C,onRefresh:()=>{L(!0),le.getRouterStatus(t).then(_=>{_.success&&_.data&&x(_.data)}).catch(()=>{}).finally(()=>L(!1))}})]})]}),d==="documentation"&&s("div",{className:"space-y-8 mt-10",children:[s("div",{className:"bg-white rounded-xl shadow-sm border p-8",children:[s("h4",{className:"text-lg font-bold text-gray-700 mb-3",children:"Description"}),s("div",{className:"prose prose-base max-w-none",dangerouslySetInnerHTML:{__html:Kt.sanitize(Na(i.metadata?.description||""))}})]}),i.endpoints&&i.endpoints.info&&i.endpoints.paths&&s("div",{className:"bg-white rounded-xl shadow-sm border p-8",children:[s("div",{className:"flex items-center justify-between mb-6",children:[s("h4",{className:"text-lg font-bold text-gray-700",children:"API Endpoints"}),s("div",{className:"text-sm text-gray-500",children:["OpenAPI ",i.endpoints.openapi||"Unknown"]})]}),i.endpoints.info&&s("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s("h5",{className:"font-semibold text-gray-800 mb-2",children:i.endpoints.info.title||"API Documentation"}),s("p",{className:"text-gray-600 text-sm",children:i.endpoints.info.description||"No description available"}),s("p",{className:"text-gray-500 text-xs mt-1",children:["Version: ",i.endpoints.info.version||"Unknown"]})]}),s("div",{className:"space-y-6",children:Object.entries(i.endpoints.paths).map(([_,R])=>s("div",{children:Object.entries(R).map(([B,W])=>s(Ea,{path:_,method:B,operation:W},`${B}-${_}`))},_))}),i.endpoints.components?.schemas&&Object.keys(i.endpoints.components.schemas).length>0&&s("div",{className:"mt-8",children:[s("h5",{className:"text-lg font-bold text-gray-700 mb-4",children:"Data Models"}),s("div",{className:"space-y-4",children:Object.entries(i.endpoints.components.schemas).map(([_,R])=>s("div",{className:"border border-gray-200 rounded-lg p-4",children:[s("h6",{className:"font-semibold text-gray-800 mb-2",children:_}),R.description&&s("p",{className:"text-gray-600 text-sm mb-3",children:R.description}),s(Oe,{schema:R})]},_))})]})]}),!i.endpoints&&s("div",{className:"bg-white rounded-xl shadow-sm border p-8",children:[s("h4",{className:"text-lg font-bold text-gray-700 mb-4",children:"API Documentation"}),s("p",{className:"text-gray-500",children:"No API documentation available for this router."})]})]})]}),P&&i&&s(Gn,{isOpen:P,onClose:()=>$(!1),routerName:i.name,routerDetails:{summary:i.metadata?.summary,description:i.metadata?.description,tags:i.metadata?.tags,services:i.services?.map(_=>({type:_.type,pricing:_.pricing.toString(),charge_type:_.charge_type,enabled:_.enabled}))},onSuccess:()=>{$(!1),window.location.reload()}})]})}let Ie=null;class Ca{joinUrls(e,r){const a=e.replace(/\/$/,""),n=r.replace(/^\//,"");return`${a}/${n}`}async getServerUrl(){if(Ie)return Ie;try{const e=await fetch("/sburl");if(!e.ok)throw new Error(`Failed to fetch server URL: ${e.status}`);return Ie=(await e.json()).url.replace(/\/$/,""),Ie}catch(e){return console.error("Failed to fetch server URL, using fallback:",e),Ie="https://dev.syftbox.net",Ie}}async request(e,r={}){try{const a=await this.getServerUrl(),n=this.joinUrls(a,e),i=await fetch(n,{headers:{"Content-Type":"application/json",...r.headers},...r}),l=await i.json();return i.ok?{success:!0,data:l}:{success:!1,error:l.message||`HTTP ${i.status}: ${i.statusText}`}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error occurred"}}}async pollForResponse(e,r=20){const a=await this.getServerUrl();for(let n=0;n<r;n++)try{const i=this.joinUrls(a,e),l=await fetch(i),o=await l.json();if(l.status===200&&o?.data?.message?.status_code===200)return{success:!0,data:o};if(l.status===202||o?.data?.message?.status_code!==200){await new Promise(u=>setTimeout(u,2e3));continue}else return{success:!1,error:o.message||`HTTP ${l.status}: ${l.statusText}`}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown error occurred"}}return{success:!1,error:"Request timed out after maximum attempts"}}async search(e,r,a){const n=encodeURIComponent(a),i=`syft://${r}/app_data/${e}/rpc/search?query="${n}"`,o=`/api/v1/send/msg?x-syft-url=${encodeURIComponent(i)}&x-syft-from=guest@syft.org`,u=await this.request(o,{method:"POST"});return u.success&&u.data?.data?.poll_url?this.pollForResponse(u.data.data.poll_url):u}async chat(e,r,a){const n=`syft://${r}/app_data/${e}/rpc/chat`,l=`/api/v1/send/msg?x-syft-url=${encodeURIComponent(n)}&x-syft-from=guest@syft.org`,o={model:"tinyllama:latest",messages:a},u=await this.request(l,{method:"POST",body:JSON.stringify(o)});return u.success&&u.data?.data?.poll_url?this.pollForResponse(u.data.data.poll_url):u}async getAvailableRouters(){return{success:!0,data:[{name:"mit",author:"alice@openmined.org",services:["search"]},{name:"oreilly",author:"alice@openmined.org",services:["chat"]}]}}}const hn=new Ca;function La(t){const e=t.match(/\[([^\]]+)\]/g);return e?Array.from(new Set(e.map(r=>r.slice(1,-1)))):[]}function $a({onBack:t}){const[e,r]=A(""),[a,n]=A([]),[i,l]=A(!1),[o,u]=A(null),[h,m]=A([]),[d,b]=A([]),[p,x]=A([]),[C,L]=A([]),[S,g]=A(""),[P,$]=A([]);he(()=>{(async()=>{try{const E=await le.listRouters();if(E.success&&E.data){const N=E.data;m(N);const _=N.filter(B=>B.published&&B.services.some(W=>W.type==="search"&&W.enabled));b(_);const R=N.filter(B=>B.published&&B.services.some(W=>W.type==="chat"&&W.enabled));x(R)}}catch(E){console.error("Error loading routers:",E)}})()},[]);const j=async()=>{if(!e.trim()||!S){u("Please enter a message and select a chat source");return}l(!0),u(null);try{let y=e;const E=new Set;let N=[];if(C.length>0){for(const G of C){const Z=d.find(ie=>ie.name===G);if(Z)try{const ie=await hn.search(Z.name,Z.author,e);if(ie.success&&ie.data){const ye=ie.data.data.message.body.results;N.push(...ye),ye.forEach(ke=>{ke.metadata?.filename&&E.add(ke.metadata.filename)})}}catch(ie){console.error(`Error searching router ${G}:`,ie)}}N.length>0&&(y=N.map(Z=>Z.content).join(`

`)),$(N)}const _={role:"user",content:e};n(G=>[...G,_]);const R=p.find(G=>G.name===S);if(!R)throw new Error("Selected chat source not found");const B=[{role:"system",content:`You are a helpful AI assistant that answers questions based on the provided source context.

Use the provided sources to answer the user's question accurately and comprehensively. If you do not know the answer from the sources, say so.`},...a,{role:"user",content:e}];if(C.length>0&&N.length>0){const G=N.map(Z=>`[${Z.metadata?.filename||"unknown"}]
${Z.content}`).join(`

`);B.splice(-1,0,{role:"system",content:`Here is relevant source context to help answer the user's question:

${G}`})}const W=await hn.chat(R.name,R.author,B);if(W.success&&W.data){const G={role:"assistant",content:W.data.data.message.body.message.content};n(Z=>[...Z,G])}else throw new Error(W.error||"Failed to get chat response");r("")}catch(y){console.error("Error in chat:",y),u(y instanceof Error?y.message:"An error occurred")}finally{l(!1)}},O=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),j())};return s("div",{className:"max-w-4xl mx-auto py-8",children:[s(z,{variant:"ghost",onClick:t,className:"mb-8",children:" Back"}),s("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s("div",{className:"px-6 py-4 border-b border-gray-200",children:[s("h1",{className:"text-2xl font-bold text-gray-900",children:"Chat"}),s("p",{className:"text-gray-600 mt-1",children:"Ask questions and get answers from your data sources"})]}),s("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s("div",{children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Sources (Search)"}),s("select",{multiple:!0,onChange:y=>{const E=y.target,N=Array.from(E.selectedOptions,_=>_.value);L(N)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",size:3,children:d.map(y=>s("option",{value:y.name,children:[y.name," (",y.author,")"]},y.name))}),s("p",{className:"text-xs text-gray-500 mt-1",children:"Select one or more data sources to search (optional)"})]}),s("div",{children:[s("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chat Source *"}),s("select",{value:S,onChange:y=>g(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s("option",{value:"",children:"Select a chat source"}),p.map(y=>s("option",{value:y.name,children:[y.name," (",y.author,")"]},y.name))]}),s("p",{className:"text-xs text-gray-500 mt-1",children:"Select a chat model to generate responses"})]})]})}),s("div",{className:"px-6 py-4 h-96 overflow-y-auto",children:[a.length===0?s("div",{className:"text-center text-gray-500 py-8",children:[s("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s("p",{children:"Start a conversation by typing a message below"})]}):s("div",{className:"space-y-4",children:a.map((y,E)=>{const N=y.role==="assistant";return N&&La(y.content),s("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:s("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${y.role==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"}`,children:[s("p",{className:"text-sm whitespace-pre-wrap",children:y.content}),N&&P.length>0&&s("div",{className:"mt-2 text-xs text-gray-500",children:[s("span",{className:"font-semibold",children:"Sources used: "}),Array.from(new Set(P.map(_=>_.metadata?.filename))).map((_,R)=>{const B=P.find(W=>W.metadata?.filename===_);return s("span",{className:"mr-2",children:[s("span",{className:"underline cursor-pointer",title:B?B.content:"No content found",children:_}),R<Array.from(new Set(P.map(W=>W.metadata?.filename))).length-1&&","]},_)})]})]})},E)})}),i&&s("div",{className:"flex justify-start",children:s("div",{className:"bg-gray-100 text-gray-900 max-w-xs lg:max-w-md px-4 py-2 rounded-lg",children:s("div",{className:"flex items-center space-x-2",children:[s("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),s("span",{className:"text-sm",children:"Thinking..."})]})})})]}),o&&s("div",{className:"px-6 py-3 bg-red-50 border-t border-red-200",children:s("div",{className:"text-red-700 text-sm",children:o})}),s("div",{className:"px-6 py-4 border-t border-gray-200",children:s("div",{className:"flex space-x-3",children:[s("textarea",{value:e,onChange:y=>r(y.target.value),onKeyPress:O,placeholder:"Type your message here...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,disabled:i}),s(z,{onClick:j,disabled:i||!e.trim()||!S,loading:i,className:"self-end",children:"Send"})]})})]})]})}function Pa({profileToggle:t,onTabChange:e,activeTab:r="routers"}){const[a,n]=A("Loading..."),[i,l]=A(null);return he(()=>{let o=!0;return le.getUsername().then(u=>{o&&(u.success&&u.data?.username?n(u.data.username):n("Unknown User"))}).catch(()=>n("Unknown User")),()=>{o=!1}},[]),he(()=>{let o=!0;return le.getSyftBoxUrl().then(u=>{o&&u.success&&u.data&&l(u.data.url)}).catch(()=>{}),()=>{o=!1}},[]),s("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16",children:[s("div",{className:"flex items-center space-x-3",children:[s("img",{src:"/static/syftbox-logo.svg",alt:"SyftBox Logo",className:"h-8 w-8"}),s("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:["SyftBox ",s("span",{className:"ml-1 text-xs font-semibold text-primary-600 align-top",children:"ALPHA"})]})]}),s("nav",{className:"flex items-center space-x-2",children:[s("button",{onClick:()=>e?.("routers"),className:`px-4 py-2 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 ${r==="routers"?"text-primary-700 bg-primary-50":"text-gray-700 hover:bg-gray-100"}`,children:"Routers"}),s("button",{onClick:()=>e?.("chat"),className:`px-4 py-2 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 flex items-center gap-2 ${r==="chat"?"text-primary-700 bg-primary-50":"text-gray-700 hover:bg-gray-100"}`,children:"Chat"})]}),i&&s("div",{className:"flex items-center bg-blue-50 px-3 py-1 rounded-md border border-blue-200",children:[s("svg",{className:"h-4 w-4 text-blue-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",title:"SyftBox Server URL",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),s("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline font-mono truncate max-w-32",title:"SyftBox Server URL",children:i.replace(/^https?:\/\//,"").replace(/\/$/,"")})]}),s("div",{className:"flex items-center space-x-4",children:[s("div",{className:"flex items-center space-x-3 bg-gray-50 px-3 py-1 rounded-md border border-gray-200",children:[s("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 15c2.5 0 4.847.655 6.879 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),s("span",{className:"text-xs text-gray-700",children:["User: ",s("span",{className:"font-medium",children:a})]}),t]}),s("div",{className:"flex items-center space-x-2 bg-gray-50 px-3 py-1 rounded-md border border-gray-200",children:[s("span",{className:"text-xs text-gray-700",children:"Balance:"}),s("span",{className:"text-xs text-gray-500",children:"$20"})]})]})]})})}function Ia({profile:t,onChange:e}){const r=(a,n)=>{const i=n==="provider"?"indigo":"teal";return a?[`bg-${i}-600`,"text-white","font-bold","shadow","transition-all","duration-150","px-6","py-2","rounded-full","cursor-pointer","focus:outline-none",`focus:ring-2 focus:ring-${i}-400`,"z-10"].join(" "):["bg-white",`text-${i}-700`,"font-semibold","transition-all","duration-150","px-6","py-2","rounded-full","cursor-pointer","focus:outline-none","focus:ring-2 focus:ring-gray-300","hover:bg-gray-100","z-0"].join(" ")};return s("div",{className:"flex items-center rounded-full border border-gray-200 bg-gray-100 p-1 shadow-sm space-x-1",children:[s("button",{className:r(t==="provider","provider"),onClick:()=>e("provider"),"aria-pressed":t==="provider",tabIndex:0,style:{minWidth:100},children:"Provider"}),s("button",{className:r(t==="client","client"),onClick:()=>e("client"),"aria-pressed":t==="client",tabIndex:0,style:{minWidth:100},children:"Client"})]})}function Oa({onSelect:t}){return s("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:s("div",{className:"bg-white rounded-2xl shadow-2xl p-12 max-w-xl w-full text-center",children:[s("h2",{className:"text-3xl font-extrabold text-gray-900 mb-2 flex items-center justify-center",children:[s("span",{className:"mr-2",children:""})," Syft Routers: Your Data, Your Flow"]}),s("div",{className:"text-lg font-bold text-indigo-700 mb-4",children:"Private. Secure. Effortless."}),s("p",{className:"text-gray-600 mb-8 text-base",children:"Spin up your own private router and share data or models securelyin just a few clicks."}),s("div",{className:"flex flex-col gap-4",children:[s("button",{className:"w-full py-2 rounded-lg bg-indigo-600 text-white font-semibold text-lg flex items-center justify-center hover:bg-indigo-700 shadow",onClick:()=>t("provider"),children:[s("span",{className:"mr-2",children:""})," Provider Mode"]}),s("div",{className:"text-xs text-gray-500 mb-2",children:"Manage & publish routers"}),s("button",{className:"w-full py-2 rounded-lg bg-teal-500 text-white font-semibold text-lg flex items-center justify-center hover:bg-teal-600 shadow",onClick:()=>t("client"),children:[s("span",{className:"mr-2",children:""})," Client Mode"]}),s("div",{className:"text-xs text-gray-500",children:"Browse & use published routers"})]})]})})}const pn="syftbox_profile";function Ma(){const[t,e]=A({page:"list"}),[r,a]=A("routers"),[n,i]=A(null),[l,o]=A(!1);he(()=>{const p=localStorage.getItem(pn);p==="provider"||p==="client"?i(p):o(!0)},[]),he(()=>{n&&(localStorage.setItem(pn,n),o(!1))},[n]);const u=(p,x,C)=>{e({page:"detail",routerName:p,published:x,author:C})},h=()=>{e({page:"list"}),a("routers")},m=p=>{a(p),p==="routers"?e({page:"list"}):p==="chat"&&e({page:"chat"})},d=p=>{i(p)},b=p=>{i(p)};return s(Rn.Provider,{value:n?{profile:n,color:n==="provider"?"indigo":"teal"}:{profile:"provider",color:"indigo"},children:s("div",{className:"min-h-screen relative bg-white",children:[n&&!l&&s("div",{children:[s(Pa,{profileToggle:s(Ia,{profile:n,onChange:b}),onTabChange:m,activeTab:r}),s("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.page==="list"?s(wa,{onRouterClick:u,profile:n}):t.page==="detail"?s(Aa,{routerName:t.routerName,published:t.published,author:t.author,onBack:h,profile:n}):s($a,{onBack:h})})]}),l&&s(Oa,{onSelect:d})]})})}ls(s(Ma,{}),document.getElementById("root"));
